(this.webpackJsonppotaling=this.webpackJsonppotaling||[]).push([[0],{146:function(e,t){},265:function(e,t,n){},267:function(e,t,n){},287:function(e,t){},312:function(e,t,n){"use strict";n.r(t);var a,i,r,o=n(2),c=n.n(o),s=n(77),l=n.n(s),j=(n(265),n(9)),d=n(22),u=n(101),b=n(10),p=n(388),h=n(56),m=n(384),x=n(400),g=n(396),O=n(397),f=n(399),y=n(395),v=n(398),S=n(394),k=n(401),C=n(195),w=n.n(C),L=n(204),F=n.n(L),B=n(205),D=n.n(B),N=n(74),T=n(75),I=n(88),M=n(89),A=n(402),z=n(403),P=n(405),V=n(404),E=n(189),H=n.n(E),J=(n(266),n(267),n(385)),W=n(50),q=n(81),G=n.n(q),Z=n(187),R=n(3);G.a.workerClass=Z.a;var X,Y,K,Q,U=24e4,_=500,$=!1,ee=0,te=[-.005,-.005],ne=function(e){oe();var t=JSON.parse(e);a=[],i=[],t.features.forEach((function(e){var t=e.geometry.coordinates;a.push(t),i.push(t)})),r.getLayer("line")&&r.removeLayer("line"),r.getSource("trace")&&r.removeSource("trace"),r.getLayer("point")&&r.removeLayer("point"),r.getSource("point")&&r.removeSource("point"),de(r),ce(),K=null,Q=0},ae=function(e){U=e},ie=function(){K=null,a&&requestAnimationFrame(he)},re=function(){$=!0,a&&requestAnimationFrame(he)},oe=function(){$=!1},ce=function(){if(a){var e=1e5,t=-1e4,n=1e5,i=-1e4;a.forEach((function(a){e=Math.min(e,a[0]),t=Math.max(t,a[0]),n=Math.min(n,a[1]),i=Math.max(i,a[1])})),r.fitBounds([[e,n],[t,i]])}},se={width:window.innerWidth,height:window.innerHeight,longitude:139.692704,latitude:35.689526,zoom:14,maxZoom:18,pitch:65},le=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){r=new G.a.Map({accessToken:"pk.eyJ1IjoidGVybWF0IiwiYSI6ImNqdXBmYXk1aDBwMnI0MW8xNXZ3dzVkOGUifQ.8nBCHZrBDS50yJbykEE4Sg",container:this.container,hash:!0,style:n.SAT,center:[139.692704,35.689526],zoom:14,maxZoom:18,minZoom:8,pitch:65,bearing:-180,interactive:!0,localIdeographFontFamily:!1}),this.deckgl=new J.a({gl:r.painter.context.gl,layers:[],initialViewState:se}),r.addControl(new G.a.FullscreenControl),r.addControl(new G.a.NavigationControl),r.on("load",(function(){ue(r),be(r),de(r)}))}},{key:"render",value:function(){var e=this;return Object(R.jsx)("div",{className:"map",ref:function(t){return e.container=t}})}}]),n}(o.Component);le.SAT="mapbox://styles/mapbox/satellite-v9",le.STD="/potaling/std.json";var je=function(e){if(e.getSource("trace")||e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.getLayer("line")||e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}}),!e.getSource("point")){var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t})}e.getLayer("point")||e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}})},de=function(e){if(a){e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}});var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t}),e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}}),X=W.lineDistance(W.lineString(a)),Y=W.lineDistance(W.lineString(i))}},ue=function(e){e.getSource("mapbox-dem")||(e.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),e.setTerrain({source:"mapbox-dem",exaggeration:1.5}))},be=function(e){e.getLayer("sky")||e.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":15}})},pe=function(){if(a){Q||(Q=0);var e=W.along(W.lineString(a),X*Q).geometry.coordinates,t=W.along(W.lineString(i),Y*Q).geometry.coordinates,n=r.getFreeCameraOptions();n.position=G.a.MercatorCoordinate.fromLngLat({lng:t[0]+te[0],lat:t[1]+te[1]},_),n.lookAtPoint({lng:e[0],lat:e[1]}),r.setFreeCameraOptions(n);var o={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:e}}]};r.getSource("point").setData(o)}},he=function e(t){K||(K=t),(Q=(t-K)/U)>1&&setTimeout((function(){K=0}),1500);var n=W.along(W.lineString(a),X*Q).geometry.coordinates,o=W.along(W.lineString(i),Y*Q).geometry.coordinates,c=r.getFreeCameraOptions();c.position=G.a.MercatorCoordinate.fromLngLat({lng:o[0]-te[0],lat:o[1]-te[1]},_),c.lookAtPoint({lng:n[0],lat:n[1]}),r.setFreeCameraOptions(c);var s={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}]},l=r.getSource("point");l&&l.setData(s),$&&requestAnimationFrame(e)},me=n(123),xe=n.n(me),ge=n(208),Oe=[],fe=function(e){var t="/potaling/geojson/"+e.target.alt;xe.a.get(t).then((function(e){var t=e.data,n=JSON.stringify(t);ne(n)}))},ye=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){ge.a("/potaling/pota_data.csv",(function(e){Oe.push(e)}))}},{key:"render",value:function(){return Object(R.jsx)("div",{children:Object(R.jsxs)(A.a,{cols:1,children:[Object(R.jsx)(z.a,{children:Object(R.jsx)(V.a,{component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u30c7\u30fc\u30bf"})},"Subheader"),Oe.map((function(e){return Object(R.jsxs)(z.a,{children:[Object(R.jsx)("img",{srcSet:"".concat("/potaling","/images/").concat(e.img),alt:e.json,loading:"lazy",onClick:fe}),Object(R.jsx)(P.a,{title:e.title,subtitle:e.date,actionIcon:Object(R.jsx)(S.a,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"info about ".concat(e.title),children:Object(R.jsx)(H.a,{})})})]},e.img)}))]})})}}]),n}(o.Component),ve=n(200),Se=n.n(ve),ke=n(198),Ce=n.n(ke),we=n(199),Le=n.n(we),Fe=n(197),Be=n.n(Fe),De=n(408),Ne=n(407),Te=n(191),Ie=n.n(Te),Me=n(190),Ae=n.n(Me),ze=n(378),Pe=n(406),Ve=n(382);function Ee(){return Object(R.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(R.jsx)(Pe.a,{color:"inherit",href:"https://material-ui.com/",children:"t.matsuoka"})," ",(new Date).getFullYear(),"."]})}var He,Je=Object(p.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),We={width:"100%"},qe=c.a.forwardRef((function(e,t){return Object(R.jsx)(ze.a,Object(u.a)({direction:"up",ref:t},e))}));function Ge(){var e=Je(),t=c.a.useState(!0),n=Object(d.a)(t,2),a=n[0],i=n[1];He=function(){i(!0)};var r=function(){i(!1)};return Object(R.jsx)("div",{children:Object(R.jsxs)(Ne.a,{fullScreen:!0,open:a,onClose:r,TransitionComponent:qe,children:[Object(R.jsx)(g.a,{className:e.appBar,children:Object(R.jsxs)(O.a,{children:[Object(R.jsx)(S.a,{edge:"start",color:"inherit",onClick:r,"aria-label":"close",children:Object(R.jsx)(Ae.a,{})}),Object(R.jsx)(y.a,{variant:"h6",className:e.title,onClick:r,children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(R.jsx)(Ie.a,{onClick:r}),Object(R.jsx)(De.a,{color:"inherit",onClick:r,children:"Close"})]})}),Object(R.jsxs)("div",{children:[Object(R.jsx)("img",{src:"".concat("/potaling","/images/back.jpg"),style:We,alt:"top"}),Object(R.jsxs)(Ve.a,{textAlign:"center",children:[Object(R.jsx)("h1",{children:"\u300eBrompton\u300f\u3067\u300e\u30dd\u30bf\u30ea\u30f3\u30b0\u300f\u3057\u305f\u7d4c\u8def\u3092\u4fef\u77b0\u3059\u308b\u5b9f\u9a13\u30b5\u30a4\u30c8\u3067\u3059\u3002"}),Object(R.jsxs)("p",{style:{fontSize:"20px"},children:["\u30dd\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u5730\u57df\u3092\u9ce5\u77b0\u3067\u773a\u3081\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u4f5c\u6210\u3057\u305f\u3001\u8d70\u884c\u7d4c\u8def\u30923D\u5730\u56f3\u306b\u8868\u793a\u3059\u308bWeb\u30a2\u30d7\u30ea\u3067\u3059\u3002",Object(R.jsx)("br",{}),"\u4f5c\u8005\u304c\u81ea\u8ee2\u8eca\u3067\u6563\u6b69\u3057\u305f\u7d4c\u8def\u30923D\u5730\u56f3\u3067\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002",Object(R.jsx)("br",{}),"\u307e\u305f\u3001\u4efb\u610f\u306e\u7d4c\u8def\u60c5\u5831\uff08Geojson/Point\uff09\u3092\u8aad\u307f\u8fbc\u3093\u30673D\u5730\u56f3\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002"]}),Object(R.jsx)(De.a,{variant:"contained",size:"large",onClick:r,children:"\u958b\u3000\u59cb"})]})]}),Object(R.jsx)("br",{}),Object(R.jsx)(Ee,{})]})})}var Ze,Re=n(201),Xe=n.n(Re),Ye=n(202),Ke=n.n(Ye),Qe=n(203),Ue=n.n(Qe),_e=n(386),$e=n(392),et=n(409),tt=n(410),nt=n(192),at=n.n(nt),it=n(193),rt=n.n(it),ot=n(194),ct=n.n(ot),st=n(390),lt=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){return Object(R.jsxs)("div",{style:ht,children:[Object(R.jsx)(v.a,{}),Object(R.jsx)(_e.a,{title:"\u8996\u70b9\u306e\u9ad8\u3055",placement:"right",children:Object(R.jsxs)(et.a,{children:[Object(R.jsx)(tt.a,{children:Object(R.jsx)(at.a,{})}),Object(R.jsx)(st.a,{defaultValue:500,getAriaValueText:ut,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:200,max:2e3,onChange:dt,style:{marginLeft:"0.8rem"}})]})}),Object(R.jsx)(_e.a,{title:"\u8996\u70b9\u306e\u65b9\u5411",placement:"right",children:Object(R.jsxs)(et.a,{children:[Object(R.jsx)(tt.a,{children:Object(R.jsx)(rt.a,{onClick:ae})}),Object(R.jsx)(st.a,{defaultValue:0,getAriaValueText:bt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:360,onChange:dt,style:{marginLeft:"0.8rem"}})]})}),Object(R.jsx)(_e.a,{title:"\u79fb\u52d5\u6642\u9593",placement:"right",children:Object(R.jsxs)(et.a,{children:[Object(R.jsx)(tt.a,{children:Object(R.jsx)(ct.a,{})}),Object(R.jsx)(st.a,{defaultValue:300,getAriaValueText:pt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:20,marks:!0,min:80,max:360,onChange:dt,style:{marginLeft:"0.8rem"}})]})})]})}}]),n}(o.Component),jt=!1,dt=function(){jt=!0},ut=function(e){jt&&(_=e,$||pe()),jt=!1},bt=function(e){jt&&(ee=e/180*Math.PI,te=[-.005*Math.cos(ee)- -.005*Math.sin(ee),-.005*Math.sin(ee)+-.005*Math.cos(ee)],$||pe()),jt=!1},pt=function(e){jt&&ae(1e3*e),jt=!1},ht={float:"left",width:230,lineHeight:"32px",borderRadius:4,border:"none",padding:"0 4px",color:"#fff",background:"#ffffff88",position:"absolute",top:100,left:5,zindex:255},mt=n(196),xt=n.n(mt),gt=n(387),Ot=n(412),ft=n(411),yt=[],vt=0;function St(e){var t=c.a.useState(!1),n=Object(d.a)(t,2),a=n[0],i=n[1];Ze=function(){i(!0)};var o=function(e){var t,n=e.geometry.coordinates;t=n,r.jumpTo({center:t})};return Object(R.jsxs)(Ne.a,{"aria-labelledby":"simple-dialog-title",open:a,children:[Object(R.jsxs)(ft.a,{id:"simple-dialog-title",children:[Object(R.jsx)(De.a,{variant:"contained",color:"primary",onClick:function(){i(!1)},children:"\u9589\u3058\u308b"}),"\u3000"]}),Object(R.jsx)(f.a,{children:yt.map((function(e){return Object(R.jsx)(et.a,{button:!0,onClick:function(){return o(e)},children:Object(R.jsx)(Ot.a,{primary:e.properties.title})},e.properties.title+String(vt++))}))})]})}var kt,Ct=300,wt=Object(p.a)((function(e){return{root:{display:"flex"},appBar:{height:"65px",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Ct,"px)"),marginLeft:Ct,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Ct,flexShrink:0},drawerPaper:{width:Ct,boxSizing:"border-box"},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},toolbarButtons:{marginLeft:"auto"}}})),Lt=function(){if(kt&&!(kt.length<1)){var e="https://msearch.gsi.go.jp/address-search/AddressSearch?q="+kt;xe.a.get(e).then((function(e){var t;t=e.data,yt=t,Ze()}))}},Ft=function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];console.log(n.name),console.log(n.size),console.log(n.type),t.readAsText(n)},t.onload=function(){return ne(t.result)},e.click()},Bt=le.SAT,Dt=function(){!function(e){console.log(e),r.setStyle(e),r.on("style.load",(function(){r.resize(),ue(r),be(r),a&&je(r)}))}(Bt=Bt===le.SAT?le.STD:le.SAT)};function Nt(){var e=wt(),t=Object(h.a)(),n=c.a.useState(!1),a=Object(d.a)(n,2),i=a[0],r=a[1],o=function(){r(!1)};return Object(R.jsxs)("div",{className:e.root,children:[Object(R.jsx)(m.a,{}),Object(R.jsx)(g.a,{className:Object(b.a)(e.appBar,Object(j.a)({},e.appBarShift,i)),children:Object(R.jsxs)(O.a,{children:[Object(R.jsx)(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(b.a)(e.menuButton,i&&e.hide),children:Object(R.jsx)(w.a,{})}),Object(R.jsx)(y.a,{variant:"h6",noWrap:!0,component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332"}),Object(R.jsx)("div",{className:e.toolbarButtons,children:Object(R.jsxs)($e.a,{container:!0,alignItems:"center",className:e.root,children:[Object(R.jsx)(v.a,{orientation:"vertical",flexItem:!0}),Object(R.jsx)(_e.a,{title:"\u691c\u7d22",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:Lt,children:Object(R.jsx)(xt.a,{})})}),Object(R.jsx)(gt.a,{id:"input-search",label:"\u691c\u7d22",size:"small",style:{background:"white"},onChange:function(e){return t=e.target.value,void(kt=t);var t},onKeyDown:function(e){"Enter"===e.key&&Lt()}}),Object(R.jsx)(v.a,{orientation:"vertical",flexItem:!0}),Object(R.jsx)(_e.a,{title:"Geojson\u8aad\u8fbc",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:Ft,children:Object(R.jsx)(Be.a,{})})}),Object(R.jsx)("input",{type:"file",id:"file",style:{display:"none"}}),Object(R.jsx)(_e.a,{title:"\u5730\u56f3\u5207\u66ff",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:Dt,children:Object(R.jsx)(Ce.a,{})})}),Object(R.jsx)(_e.a,{title:"\u9818\u57df\u79fb\u52d5",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:ce,children:Object(R.jsx)(Le.a,{})})}),Object(R.jsx)(_e.a,{title:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:He,children:Object(R.jsx)(Se.a,{})})}),Object(R.jsx)(v.a,{orientation:"vertical",flexItem:!0}),Object(R.jsx)(_e.a,{title:"\u958b\u59cb",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:re,children:Object(R.jsx)(Xe.a,{})})}),Object(R.jsx)(_e.a,{title:"\u505c\u6b62",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:oe,children:Object(R.jsx)(Ke.a,{})})}),Object(R.jsx)(_e.a,{title:"\u51fa\u767a\u70b9\u306b\u623b\u308b",placement:"bottom",children:Object(R.jsx)(S.a,{color:"inherit",onClick:ie,children:Object(R.jsx)(Ue.a,{})})}),Object(R.jsx)(v.a,{orientation:"vertical",flexItem:!0})]})})]})}),Object(R.jsxs)(x.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper},children:[Object(R.jsx)("div",{className:e.drawerHeader,children:Object(R.jsx)(S.a,{onClick:o,children:"ltr"===t.direction?Object(R.jsx)(F.a,{}):Object(R.jsx)(D.a,{})})}),Object(R.jsx)(v.a,{}),Object(R.jsx)(f.a,{children:Object(R.jsx)(ye,{})}),Object(R.jsx)(v.a,{})]}),Object(R.jsxs)("main",{className:Object(b.a)(e.content,Object(j.a)({},e.contentShift,i)),children:[Object(R.jsx)("div",{className:e.drawerHeader}),Object(R.jsxs)(k.a,{maxWidth:"xl",className:e.container,onClick:o,children:[Object(R.jsx)(le,{}),Object(R.jsx)(lt,{})]})]}),Object(R.jsx)(Ge,{}),Object(R.jsx)(St,{})]})}var Tt=n(149);var It=function(){return Object(R.jsxs)(Tt.b,{children:[Object(R.jsx)(Tt.a,{children:Object(R.jsx)("title",{children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"})}),Object(R.jsx)(Nt,{})]})},Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,414)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};l.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(It,{})}),document.getElementById("root")),Mt()}},[[312,1,2]]]);
//# sourceMappingURL=main.f2106218.chunk.js.map