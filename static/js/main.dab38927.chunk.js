(this.webpackJsonppotaling=this.webpackJsonppotaling||[]).push([[0],{182:function(e,t){},292:function(e,t,n){},294:function(e,t,n){},335:function(e,t){},385:function(e,t){},389:function(e,t,n){"use strict";n.r(t);var a,i,o,r,c,s,l=n(1),d=n.n(l),j=n(60),u=n.n(j),p=(n(292),n(238)),b=n(29),h=n(7),m=n(20),f=n(88),x=n(11),g=n(469),O=n(59),y=n(465),v=n(482),w=n(478),S=n(479),C=n(480),k=n(477),N=n(481),L=n(476),z=n(483),F=n(232),M=n.n(F),T=n(236),E=n.n(T),I=n(237),B=n.n(I),P=n(82),A=n(83),D=n(98),R=n(103),_=n(486),J=n(487),W=n(489),H=n(488),G=n(228),U=n.n(G),Y=(n(293),n(294),n(466)),q=n(124),Q=n(484),V=n(471),Z=n(485),K=n(3),X=0,$=function(e){Object(D.a)(n,e);var t=Object(R.a)(n);function n(e){var a;return Object(P.a)(this,n),(a=t.call(this,e)).state={play_state:"\u958b\u59cb",val:0,label:"\u4f4e\u901f"},a}return Object(A.a)(n,[{key:"componentDidMount",value:function(){var e=this;a=function(t){e.setState({val:Math.ceil(100*t)})},i=function(){Ie(),e.setState({play_state:"\u958b\u59cb"})},o=function(){"\u958b\u59cb"===e.state.play_state?(Ee(),e.setState({play_state:"\u505c\u6b62"})):(Ie(),e.setState({play_state:"\u958b\u59cb"}))},r=function(){0===(X=(X+1)%3)?(ze(1),e.setState({label:"\u4f4e\u901f"})):1===X?(ze(2),e.setState({label:"\u4e2d\u901f"})):(ze(3),e.setState({label:"\u9ad8\u901f"}))}}},{key:"render",value:function(){return Object(K.jsx)("div",{style:ne,children:Object(K.jsxs)(Q.a,{children:[Object(K.jsx)(Z.a,{variant:"contained",color:"primary",style:{marginRight:"20px"},onClick:o,children:this.state.play_state}),Object(K.jsx)(V.a,{value:this.state.val,getAriaValueText:ee,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:1,marks:!0,min:0,max:100,onChange:te}),Object(K.jsx)(Z.a,{variant:"contained",color:"primary",style:{marginLeft:"20px"},onClick:r,children:this.state.label})]})})}}]),n}(l.Component),ee=function(e){},te=function(e){Fe()||Te(e.target.value/100)},ne={float:"left",width:"96%",lineHeight:"32px",borderRadius:4,border:"none",padding:"0px 20px 0px 20px",color:"#fff",background:"#ffffff88",position:"absolute",bottom:35,left:"2%",zindex:255},ae=n(472),ie=n(475),oe=n(457),re=Object(g.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center","&:hover":{backgroundcolor:"red"}},img:{outline:"none"}}}));function ce(){var e=re(),t=Object(l.useState)(!1),n=Object(m.a)(t,2),a=n[0],i=n[1],o=Object(l.useState)("false"),r=Object(m.a)(o,2),d=r[0],j=r[1];return c=function(e){console.log(e),j(e),i(!0)},s=function(){i(!1)},Object(K.jsx)("div",{children:Object(K.jsx)(ae.a,{className:e.modal,open:a,onClose:s,closeAfterTransition:!0,BackdropComponent:ie.a,BackdropProps:{style:{backgroundColor:"transparent"}},children:Object(K.jsx)(oe.a,{in:a,timeout:500,className:e.img,children:Object(K.jsx)("img",{src:d,alt:"asd",style:{maxHeight:"90%",maxWidth:"90%"}})})})})}var se,le,de=n(99),je=n.n(de),ue=n(86),pe=n.n(ue),be=n(226);pe.a.workerClass=be.a;var he,me,fe,xe,ge,Oe,ye=500,ve=!1,we=0,Se=[-.005,-.005],Ce=1,ke=0,Ne={type:"raster-dem",tiles:["https://www.termat.net/dem/{z}/{x}/{y}"],tileSize:256,maxzoom:14,attribution:"<a href='https://maps.gsi.go.jp/development/ichiran.html'>\u5730\u7406\u9662\u30bf\u30a4\u30eb</a>"},Le={type:"vector",glyphs:"https://maps.gsi.go.jp/xyz/noto-jp/{fontstack}/{range}.pbf",tiles:["https://cyberjapandata.gsi.go.jp/xyz/experimental_bvmap/{z}/{x}/{y}.pbf"],minzoom:9,maxzoom:16},ze=function(e){Ce=e},Fe=function(){return ve},Me=function(e){Ie();var t=JSON.parse(e);se=[],t.features.forEach((function(e){var t=e.geometry.coordinates;"Point"===e.geometry.type?se.push(t):"LineString"===e.geometry.type&&function(e){e.forEach((function(e){se.push(e)}))}(t)})),le.getLayer("line")&&le.removeLayer("line"),le.getSource("trace")&&le.removeSource("trace"),le.getLayer("point")&&le.removeLayer("point"),le.getSource("point")&&le.removeSource("point"),_e(le),Be(),fe=null,xe=0,a(0)},Te=function(e){0===(xe=e)&&(fe=null),se&&Ye()},Ee=function(){ve=!0,se&&requestAnimationFrame(Ye)},Ie=function(){ve=!1,cancelAnimationFrame(Oe),fe=null},Be=function(){if(se){var e=1e5,t=-1e4,n=1e5,a=-1e4;se.forEach((function(i){e=Math.min(e,i[0]),t=Math.max(t,i[0]),n=Math.min(n,i[1]),a=Math.max(a,i[1])})),le.fitBounds([[e,n],[t,a]]),Ue(le,e,t,n,a)}},Pe={width:window.innerWidth,height:window.innerHeight,longitude:139.692704,latitude:35.689526,zoom:14,maxZoom:18,pitch:65},Ae=function(e){Object(D.a)(n,e);var t=Object(R.a)(n);function n(){return Object(P.a)(this,n),t.apply(this,arguments)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){le=new pe.a.Map({accessToken:"pk.eyJ1IjoidGVybWF0IiwiYSI6ImNrcGprNXE2ajBjdmQybnFyMmI5d3lrN2UifQ.EyZTUEX49xUnq6i2y0Na2Q",container:this.container,hash:!0,style:n.PHT,center:[139.692704,35.689526],zoom:14,maxZoom:18,minZoom:8,pitch:65,bearing:0,interactive:!0,localIdeographFontFamily:!1}),this.deckgl=new Y.a({gl:le.painter.context.gl,layers:[],initialViewState:Pe}),le.addControl(new pe.a.FullscreenControl),le.addControl(new pe.a.NavigationControl),le.on("load",(function(){Je(le),He(le),_e(le),We(le),le.loadImage("/potaling/camera.png",(function(e,t){if(e)throw e;le.addImage("custom-marker",t)}));var e=Ge(window.location.search);e.p&&function(e){for(var t=0;t<Qe.length;t++)if(Qe[t].no==e){var n="/potaling/geojson/"+Ze(e);je.a.get(n).then((function(e){var t=e.data,n=JSON.stringify(t);Me(n)}))}}(e.p)})),le.on("touchstart",(function(e){ge=e.point})),le.on("touchend",(function(e){ge=null})),le.on("mousedown",(function(e){ge=e.point})),le.on("mouseup",(function(e){ge=null})),le.on("mouseout",(function(e){ge=null})),le.on("mousemove",(function(e){De(e)})),le.on("touchmove",(function(e){De(e)})),le.on("wheel",(function(e){ve&&(e.preventDefault(),console.log(e.originalEvent.deltaY>0),ye=e.originalEvent.deltaY>0?Math.min(2e3,ye+50):Math.max(200,ye-50))}))}},{key:"render",value:function(){var e=this;return Object(K.jsx)("div",{className:"map",ref:function(t){return e.container=t}})}}]),n}(l.Component);Ae.STD="/potaling/std.json",Ae.PHT={version:8,glyphs:"https://maps.gsi.go.jp/xyz/noto-jp/{fontstack}/{range}.pbf",sources:{t_pale:{type:"raster",tiles:["https://cyberjapandata.gsi.go.jp/xyz/seamlessphoto/{z}/{x}/{y}.jpg"],tileSize:256,attribution:"<a href='https://maps.gsi.go.jp/development/ichiran.html'>\u5730\u7406\u9662\u30bf\u30a4\u30eb\uff08\u5168\u56fd\u6700\u65b0\u5199\u771f\uff09</a>"}},layers:[{id:"t_pale",type:"raster",source:"t_pale",minzoom:8,maxzoom:18}]};var De=function(e){if(ve&&ge){e.preventDefault();var t=ge.x,n=ge.y,a=e.point.x,i=e.point.y,o=e.originalEvent,r=!1;o&&"touches"in o&&o.touches.length>1&&(r=!0),r?ye=i>n?Math.min(2e3,ye+50):Math.max(200,ye-50):a>t?(we=(ke=(ke+5)%360)/180*Math.PI,Se=[-.005*Math.cos(we)- -.005*Math.sin(we),-.005*Math.sin(we)+-.005*Math.cos(we)]):(we=(ke=(ke-5)%360)/180*Math.PI,Se=[-.005*Math.cos(we)- -.005*Math.sin(we),-.005*Math.sin(we)+-.005*Math.cos(we)]),ge&&(ge=e.point)}},Re=function(e){if(e.getSource("trace")||e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:se}}}),e.getLayer("line")||e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}}),!e.getSource("point")){var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:se[0]}}]};e.addSource("point",{type:"geojson",data:t})}e.getLayer("point")||e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}})},_e=function(e){if(se){e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:se}}}),e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}});var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:se[0]}}]};e.addSource("point",{type:"geojson",data:t}),e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}}),he=q.length(q.lineString(se)),me=1/(he/10*6e4)}},Je=function(e){e.getSource("mapbox-dem")||(e.addSource("mapbox-dem",Ne),e.setTerrain({source:"mapbox-dem",exaggeration:1.25}))},We=function(e){var t;e.getSource("vector")||(e.addSource("vector",Le),e.addLayer({id:"vector",type:"line",source:"vector","source-layer":"road",minzoom:9,maxzoom:18,paint:{"line-opacity":1,"line-color":"rgb(80, 80, 80)","line-width":2}}),e.addLayer({id:"label",type:"symbol",source:"vector","source-layer":"label",minzoom:9,maxzoom:18,layout:(t={"text-size":16,"text-rotate":["case",["==",["get","arrng"],2],["*",["+",["to-number",["get","arrngAgl"]],90],-1],["*",["to-number",["get","arrngAgl"]],-1]],"text-field":["get","knj"],"text-font":["NotoSansCJKjp-Regular"],"text-allow-overlap":!0,"text-keep-upright":!0},Object(h.a)(t,"text-allow-overlap",!1),Object(h.a)(t,"symbol-z-order","auto"),Object(h.a)(t,"text-max-width",60),Object(h.a)(t,"text-variable-anchor",["top","bottom","left","right"]),Object(h.a)(t,"text-justify","auto"),Object(h.a)(t,"symbol-placement","point"),t),paint:{"text-color":"black","text-opacity":1,"text-halo-color":"rgba(255,255,255,0.95)","text-halo-width":1.5,"text-halo-blur":1}}))},He=function(e){e.getLayer("sky")||e.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":15}})},Ge=function(e){for(var t=new Object,n=e.substring(1).split("&"),a=0;n[a];a++){var i=n[a].split("=");t[i[0]]=i[1]}return t},Ue=function(e,t,n,a,i){var o="https://www.termat.net/photo/get/bounds/"+t+"/"+a+"/"+(n-t)+"/"+(i-a);je.a.get(o).then((function(t){var n;e.addSource("photo",{type:"geojson",data:t.data}),e.addLayer({id:"photoId",source:"photo",type:"symbol",layout:(n={"icon-image":"custom-marker","text-size":12,"text-field":["get","title"],"text-font":["NotoSansCJKjp-Regular"],"text-allow-overlap":!0,"text-keep-upright":!0},Object(h.a)(n,"text-allow-overlap",!1),Object(h.a)(n,"symbol-z-order","auto"),Object(h.a)(n,"text-max-width",60),Object(h.a)(n,"text-variable-anchor",["top","bottom","left","right"]),Object(h.a)(n,"text-justify","auto"),Object(h.a)(n,"symbol-placement","point"),Object(h.a)(n,"icon-offset",[0,32]),n),paint:{"text-color":"red","text-opacity":1,"text-halo-color":"rgba(255,255,255,0.95)","text-halo-width":1.5,"text-halo-blur":1}}),e.on("mouseenter","photoId",(function(t){var n=new pe.a.LngLat(t.features[0].geometry.coordinates[0],t.features[0].geometry.coordinates[1]),a=t.features[0].properties,i=document.createElement("div"),o=document.createElement("p");o.innerHTML=a.title+"("+a.date+")";var r=document.createElement("img");r.setAttribute("src","data:image/png;base64,"+a.thumbnail),r.setAttribute("style","width:100%;z-index:100;"),r.addEventListener("click",(function(e){c("https://www.termat.net/photo/get/image/"+a.image)})),i.appendChild(o),i.appendChild(r),s(),(new pe.a.Popup).setLngLat(n).setDOMContent(i).addTo(e)}))}))},Ye=function e(t){if(fe)if("undefined"!==typeof t){var n=t-fe;fe=t,xe+=me*n*Ce*.5}else fe=Date.now();else fe=t;a(xe),xe>=1&&setTimeout((function(){ve=!1,i()}),1500);var o=q.along(q.lineString(se),he*xe).geometry.coordinates,r=le.getFreeCameraOptions();r.position=pe.a.MercatorCoordinate.fromLngLat({lng:o[0]-Se[0],lat:o[1]-Se[1]},ye),r.lookAtPoint({lng:o[0],lat:o[1]}),le.setFreeCameraOptions(r);var c={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:o}}]},s=le.getSource("point");s&&s.setData(c),ve?Oe=requestAnimationFrame(e):cancelAnimationFrame(Oe)},qe=n(239),Qe=[],Ve=function(e){var t=new URLSearchParams(window.location.search);t.set("p",e.target.alt),window.location.search=t.toString()},Ze=function(e){for(var t=0;t<Qe.length;t++)if(e==Qe[t].no)return Qe[t].json;return""};var Ke=function(e){Object(D.a)(n,e);var t=Object(R.a)(n);function n(e){return Object(P.a)(this,n),t.call(this,e)}return Object(A.a)(n,[{key:"componentDidMount",value:function(){qe.a("/potaling/pota_data.csv",(function(e){Qe.push(e)}))}},{key:"render",value:function(){return Object(K.jsx)("div",{children:Object(K.jsxs)(_.a,{cols:1,children:[Object(K.jsx)(J.a,{children:Object(K.jsx)(H.a,{component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u30c7\u30fc\u30bf"})},"Subheader"),Qe.map((function(e){return Object(K.jsxs)(J.a,{children:[Object(K.jsx)("img",{srcSet:"".concat("/potaling","/images/").concat(e.img),alt:e.no,loading:"lazy",onClick:Ve}),Object(K.jsx)(W.a,{title:e.title,subtitle:e.date,actionIcon:Object(K.jsx)(L.a,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"info about ".concat(e.title),children:Object(K.jsx)(U.a,{})})})]},e.img)}))]})})}}]),n}(l.Component),Xe=n(235),$e=n.n(Xe),et=n(233),tt=n.n(et),nt=n(234),at=n.n(nt),it=n(121),ot=n.n(it),rt=n(490),ct=n(144),st=n.n(ct),lt=n(143),dt=n.n(lt),jt=n(462),ut=n(492),pt=n(463),bt=n(491);function ht(e){var t=e.onClose,n=e.selectedValue,a=e.open;return Object(K.jsxs)(rt.a,{onClose:function(){t(n)},"aria-labelledby":"simple-dialog-title",open:a,children:[Object(K.jsx)(bt.a,{id:"simple-dialog-title",children:"\u30a2\u30d7\u30ea\u306e\u4f7f\u3044\u65b9"}),Object(K.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/qSJzxQrFlvE",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})}function mt(){var e=d.a.useState(!1),t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(K.jsxs)("div",{children:[Object(K.jsx)(Z.a,{variant:"contained",size:"large",onClick:function(){a(!0)},children:"\u3000\u4f7f\u3044\u65b9\u3000"}),Object(K.jsx)(ht,{open:n,onClose:function(e){a(!1)}})]})}function ft(){return Object(K.jsxs)(k.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(K.jsx)(ut.a,{color:"inherit",href:"https://material-ui.com/",children:"t.matsuoka"})," ",(new Date).getFullYear(),"."]})}var xt,gt,Ot=Object(g.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),yt={width:"100%"},vt=d.a.forwardRef((function(e,t){return Object(K.jsx)(jt.a,Object(f.a)({direction:"up",ref:t},e))}));function wt(e){var t=Ot(),n=d.a.useState(e.open),a=Object(m.a)(n,2),i=a[0],o=a[1];return xt=function(){Ct=!1,o(!0)},gt=function(){o(!1),At()},Object(K.jsx)("div",{children:Object(K.jsxs)(rt.a,{fullScreen:!0,open:i,onClose:gt,TransitionComponent:vt,children:[Object(K.jsx)(w.a,{className:t.appBar,children:Object(K.jsxs)(S.a,{children:[Object(K.jsx)(L.a,{edge:"start",color:"inherit",onClick:gt,"aria-label":"close",children:Object(K.jsx)(dt.a,{})}),Object(K.jsx)(k.a,{variant:"h6",className:t.title,onClick:gt,children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332"}),Object(K.jsxs)(pt.a,{sx:{display:{xs:"none",md:"inline"}},children:[Object(K.jsx)("div",{style:{marginRight:"10px",display:"inline"},children:Object(K.jsx)(kt,{})}),Object(K.jsx)("div",{style:{marginRight:"30px",display:"inline"},children:Object(K.jsx)("a",{href:"https://twitter.com/share",className:"twitter-share-button",style:{marginRight:"20px"},children:"Tweet"})})]}),Object(K.jsx)(st.a,{onClick:gt}),Object(K.jsx)(Z.a,{color:"inherit",onClick:gt,children:"Close"})]})}),Object(K.jsxs)("div",{children:[Object(K.jsx)("img",{src:"".concat("/potaling","/images/back.jpg"),style:yt,alt:"top"}),Object(K.jsxs)(pt.a,{textAlign:"center",children:[Object(K.jsx)("h1",{children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u5730\u57df\u30923D\u5730\u56f3\u3067\u4fef\u77b0\u3059\u308b\u5b9f\u9a13\u30b5\u30a4\u30c8\u3067\u3059\u3002"}),Object(K.jsxs)("p",{style:{fontSize:"20px"},children:["\u30dd\u30bf\u30ea\u30f3\u30b0\uff08\u81ea\u8ee2\u8eca\u6563\u6b69\uff09\u3057\u305f\u5730\u57df\u3092\u4fef\u77b0\u3057\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u4f5c\u6210\u3057\u305fWeb\u30a2\u30d7\u30ea\u3067\u3059\u3002",Object(K.jsx)("br",{}),"\u30c7\u30fc\u30bf\uff08geojson/gpx\uff09\u3092\u8aad\u307f\u8fbc\u3080\u3068\u30013D\u5730\u56f3\u4e0a\u3067\u7d4c\u8def\u306e\u4fef\u77b0\u753b\u50cf\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002",Object(K.jsx)("br",{}),"\u5b9f\u969b\u306b\u8d70\u3063\u305f\u7d4c\u8def\u3092\u4fef\u77b0\u3057\u3066\u307f\u308b\u3068\u5c0f\u3055\u306a\u767a\u898b\u304c\u3042\u3063\u3066\u7d50\u69cb\u9762\u767d\u3044\u3067\u3059\u3002"]}),Object(K.jsx)(Z.a,{variant:"contained",style:{margin:"10px"},size:"large",onClick:gt,children:"\u3000\u958b\u3000\u59cb\u3000"}),Object(K.jsx)(mt,{})]})]}),Object(K.jsx)("br",{}),Object(K.jsx)(ft,{})]})})}var St,Ct=!1,kt=function(){return d.a.useEffect((function(){if(!Ct){var e=document.createElement("script");e.setAttribute("src","https://platform.twitter.com/widgets.js"),document.body.appendChild(e),Ct=!0}}),[]),Object(K.jsx)("a",{href:"https://twitter.com/t_mat?ref_src=twsrc%5Etfw",className:"twitter-follow-button","data-show-count":"false",children:"Follow @t_mat"})},Nt=n(474),Lt=n(473),zt=n(229),Ft=n.n(zt),Mt=n(468),Tt=(n(339),n(216)),Et=Object(g.a)((function(e){return{dialog:{padding:"0px"},toolbar:{height:"60px",color:"#fff",backgroundColor:"#3f51b5"},title:{marginLeft:e.spacing(1),flex:1},box:{margin:" 0 auto"},textField:{width:"100%",fontSize:"16px",fontfamily:"sans-serif"},image:{width:"360px"},button:{fontSize:"16px",fontfamily:"sans-serif",margin:e.spacing(1),width:"100%"}}})),It=d.a.forwardRef((function(e,t){return Object(K.jsx)(jt.a,Object(f.a)({direction:"up",ref:t},e))}));function Bt(){var e=Et(),t=d.a.useState(!1),n=Object(m.a)(t,2),a=n[0],i=n[1],o=Object(l.useState)(new Date),r=Object(m.a)(o,2),c=r[0],s=r[1],j=Object(l.useState)(null),u=Object(m.a)(j,2),p=u[0],b=u[1],h=Object(l.useState)(null),f=Object(m.a)(h,2),x=f[0],g=(f[1],Object(l.useState)(null)),O=Object(m.a)(g,2),y=(O[0],O[1]);(function(){i(!0)});var v=function(){i(!1)},w=function(e){if(St.endsWith(".geojson"))y(e);else if(St.endsWith(".json"))y(e);else if(St.endsWith(".gpx")){var t=new Tt;t.parse(e),e=JSON.stringify(t.toGeoJSON()),y(e)}je.a.post("http://localhost:4567/potaling/route",e,{headers:{"Content-Type":"application/json"},accept:"application/json",withCredentials:!1,AccessControlAllowOrigin:"*",AccessControlAllowMethods:"GET,PUT,POST,DELETE,OPTIONS",preflightContinue:!1}).then((function(e){console.log(e)})).catch((function(e){console.log("ERROR!! occurred in Backend.")}))};return Object(K.jsx)("div",{children:Object(K.jsxs)(rt.a,{className:e.dialog,open:a,onClose:v,TransitionComponent:It,children:[Object(K.jsxs)(S.a,{className:e.toolbar,children:[Object(K.jsx)(L.a,{edge:"start",color:"inherit",onClick:v,"aria-label":"close",children:Object(K.jsx)(dt.a,{})}),Object(K.jsx)(k.a,{variant:"h6",className:e.title,onClick:v,children:"\u30c7\u30fc\u30bf\u767b\u9332"}),Object(K.jsx)(st.a,{onClick:v})]}),Object(K.jsx)(pt.a,{className:e.box,children:Object(K.jsx)("table",{align:"center",width:"100%",children:Object(K.jsxs)("tbody",{className:e.textField,children:[Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:"\u30bf\u30a4\u30c8\u30eb"}),Object(K.jsx)("td",{children:Object(K.jsx)(Mt.a,{className:e.textField,id:"title",label:"title",placeholder:"\u30bf\u30a4\u30c8\u30eb\u540d",variant:"standard",autoComplete:"off"})})]}),Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:"\u30c7\u30fc\u30bf\u3000"}),Object(K.jsx)("td",{children:Object(K.jsx)(Z.a,{variant:"contained",onClick:function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];n&&n.name&&(St=n.name.toLowerCase(),t.readAsText(n))},t.onload=function(){return w(t.result)},e.click()},className:e.button,startIcon:Object(K.jsx)(ot.a,{}),children:"\u8aad\u307f\u8fbc\u307f"})})]}),Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:"\u8a18\u9332\u65e5\u3000"}),Object(K.jsx)("td",{children:Object(K.jsx)(Ft.a,{className:e.textField,selected:c,onChange:function(e){return s(e)}})})]}),Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:"\u5199\u3000\u771f\u3000"}),Object(K.jsx)("td",{children:Object(K.jsx)(Z.a,{variant:"contained",onClick:function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];n&&n.name&&(St=n.name.toLowerCase(),t.readAsDataURL(n))},t.onload=function(){return b(t.result)},e.click()},className:e.button,startIcon:Object(K.jsx)(ot.a,{}),children:"\u8aad\u307f\u8fbc\u307f"})})]}),Object(K.jsx)("tr",{children:Object(K.jsx)("td",{colSpan:"2",children:Object(K.jsx)("img",{className:e.image,src:x})})}),Object(K.jsx)("tr",{children:Object(K.jsx)("td",{colSpan:"2",children:Object(K.jsx)("img",{className:e.image,src:p})})})]})})})]})})}var Pt,At,Dt=n(216),Rt=n(384),_t=n(386).DOMParser,Jt=300,Wt=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{height:"65px",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Jt,"px)"),marginLeft:Jt,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Jt,flexShrink:0},drawerPaper:{width:Jt,boxSizing:"border-box"},drawerHeader:Object(f.a)(Object(f.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},toolbarButtons:{marginLeft:"auto"}}})),Ht=function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];n&&n.name&&(Pt=n.name.toLowerCase(),console.log(n.name),console.log(n.size),console.log(n.type),t.readAsText(n))},t.onload=function(){return Gt(t.result)},e.click()},Gt=function(e){if(Pt.endsWith(".geojson"))Me(e);else if(Pt.endsWith(".json"))Me(e);else if(Pt.endsWith(".gpx")){var t=new Dt;t.parse(e),Me(JSON.stringify(t.toGeoJSON()))}else if(Pt.endsWith(".tcx")){var n=(new _t).parseFromString(e),a=Rt(n);Me(JSON.stringify(a))}},Ut=0,Yt=[Ae.PHT,Ae.STD],qt=function(){var e,t;t=Ut=(Ut+1)%Yt.length,(e=Yt[Ut]).terrain&&delete e.terrain,le.setStyle(e),le.on("style.load",(function(){Je(le),He(le),se&&Re(le),0===t&&We(le)}))};function Qt(e){var t=Wt(),n=Object(O.a)(),a=d.a.useState(!1),i=Object(m.a)(a,2),o=i[0],r=i[1],c=function(){r(!0)},s=function(){r(!1)};return At=function(){e.window&&(c(),setTimeout(s,1e3))},Object(K.jsxs)("div",{className:t.root,children:[Object(K.jsx)(y.a,{}),Object(K.jsx)(w.a,{className:Object(x.a)(t.appBar,Object(h.a)({},t.appBarShift,o)),children:Object(K.jsxs)(S.a,{children:[Object(K.jsx)(L.a,{color:"inherit","aria-label":"open drawer",onClick:c,edge:"start",className:Object(x.a)(t.menuButton,o&&t.hide),children:Object(K.jsx)(M.a,{})}),Object(K.jsx)(k.a,{variant:"h6",noWrap:!0,component:"div",sx:{display:{xs:"none",md:"block"}},children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332"}),Object(K.jsx)("div",{className:t.toolbarButtons,children:Object(K.jsxs)(Lt.a,{container:!0,alignItems:"center",className:t.root,children:[Object(K.jsx)(N.a,{orientation:"vertical",flexItem:!0}),Object(K.jsx)(Nt.a,{title:"\u30ed\u30b0\u8aad\u8fbc",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:Ht,children:Object(K.jsx)(ot.a,{})})}),Object(K.jsx)("input",{type:"file",accept:".geojson,.gpx,.tcx",id:"file",style:{display:"none"}}),Object(K.jsx)(Nt.a,{title:"\u5730\u56f3\u5207\u66ff",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:qt,children:Object(K.jsx)(tt.a,{})})}),Object(K.jsx)(Nt.a,{title:"\u9818\u57df\u79fb\u52d5",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:Be,children:Object(K.jsx)(at.a,{})})}),Object(K.jsx)(Nt.a,{title:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:xt,children:Object(K.jsx)($e.a,{})})}),Object(K.jsx)(N.a,{orientation:"vertical",flexItem:!0})]})})]})}),Object(K.jsxs)(v.a,{className:t.drawer,variant:"persistent",anchor:"left",open:o,classes:{paper:t.drawerPaper},children:[Object(K.jsx)("div",{className:t.drawerHeader,children:Object(K.jsx)(L.a,{onClick:s,children:"ltr"===n.direction?Object(K.jsx)(E.a,{}):Object(K.jsx)(B.a,{})})}),Object(K.jsx)(N.a,{}),Object(K.jsx)(C.a,{children:Object(K.jsx)(Ke,{})}),Object(K.jsx)(N.a,{})]}),Object(K.jsxs)("main",{className:Object(x.a)(t.content,Object(h.a)({},t.contentShift,o)),children:[Object(K.jsx)("div",{className:t.drawerHeader}),Object(K.jsxs)(z.a,{maxWidth:"xl",className:t.container,onClick:s,children:[Object(K.jsx)(Ae,{}),Object(K.jsx)($,{})]})]}),Object(K.jsx)(wt,{open:e.window}),Object(K.jsx)(ce,{}),Object(K.jsx)(Bt,{})]})}var Vt=function(){var e=Object(b.e)();return Zt(e.search).p?Object(K.jsx)(Qt,{window:!1}):Object(K.jsx)(Qt,{window:!0})},Zt=function(e){for(var t=new Object,n=e.substring(1).split("&"),a=0;n[a];a++){var i=n[a].split("=");t[i[0]]=i[1]}return t},Kt=function(){return Object(K.jsx)(p.a,{children:Object(K.jsxs)(b.c,{children:[Object(K.jsx)(b.a,{path:"/potaling",element:Object(K.jsx)(Vt,{})}),Object(K.jsx)(b.a,{path:"*",element:Object(K.jsx)("div",{children:"404 page not found."})})]})})},Xt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,494)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),a(e),i(e),o(e),r(e)}))};u.a.render(Object(K.jsx)(d.a.StrictMode,{children:Object(K.jsx)(Kt,{})}),document.getElementById("root")),Xt()}},[[389,1,2]]]);
//# sourceMappingURL=main.dab38927.chunk.js.map