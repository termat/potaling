(this.webpackJsonppotaling=this.webpackJsonppotaling||[]).push([[0],{199:function(e,t,n){},218:function(e,t,n){},244:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,j=n(1),d=n.n(j),u=n(44),b=n.n(u),p=(n(199),n(6)),x=n(13),m=n(60),h=n(7),g=n(315),O=n(32),f=n(312),y=n(327),v=n(323),S=n(324),k=n(326),C=n(322),w=n(325),L=n(321),F=n(328),B=n(136),D=n.n(B),N=n(145),T=n.n(N),I=n(146),M=n.n(I),A=n(42),z=n(43),P=n(51),V=n(52),E=n(329),J=n(330),q=n(332),G=n(331),W=n(129),H=n.n(W),R=n(55),Z=n.n(R),X=(n(217),n(218),n(28)),Y=n(2),K=24e4,Q=500,U=!1,_=0,$=[-.005,-.005],ee=function(e){ie();var t=JSON.parse(e);a=[],i=[],t.features.forEach((function(e){var t=e.geometry.coordinates;a.push(t),i.push(t)})),r.getLayer("line")&&r.removeLayer("line"),r.getSource("trace")&&r.removeSource("trace"),r.getLayer("point")&&r.removeLayer("point"),r.getSource("point")&&r.removeSource("point"),se(r),re(),s=null,l=0},te=function(e){K=e},ne=function(){s=null,a&&requestAnimationFrame(ue)},ae=function(){U=!0,a&&requestAnimationFrame(ue)},ie=function(){U=!1},re=function(){if(a){var e=1e5,t=-1e4,n=1e5,i=-1e4;a.forEach((function(a){e=Math.min(e,a[0]),t=Math.max(t,a[0]),n=Math.min(n,a[1]),i=Math.max(i,a[1])})),r.fitBounds([[e,n],[t,i]])}},oe=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){(r=new Z.a.Map({accessToken:"pk.eyJ1IjoidGVybWF0IiwiYSI6ImNqdXBmYXk1aDBwMnI0MW8xNXZ3dzVkOGUifQ.8nBCHZrBDS50yJbykEE4Sg",container:this.container,hash:!0,style:n.SAT,center:[139.692704,35.689526],zoom:14,maxZoom:18,minZoom:8,pitch:65,bearing:-180,interactive:!0,localIdeographFontFamily:!1})).addControl(new Z.a.FullscreenControl),r.addControl(new Z.a.NavigationControl),r.on("load",(function(){le(r),je(r),se(r)}))}},{key:"render",value:function(){var e=this;return Object(Y.jsx)("div",{className:"map",ref:function(t){return e.container=t}})}}]),n}(j.Component);oe.SAT="mapbox://styles/mapbox/satellite-v9",oe.STD="/potaling/std.json";var ce=function(e){if(e.getSource("trace")||e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.getLayer("line")||e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}}),!e.getSource("point")){var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t})}e.getLayer("point")||e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}})},se=function(e){if(a){e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}});var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t}),e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}}),o=X.lineDistance(X.lineString(a)),c=X.lineDistance(X.lineString(i))}},le=function(e){e.getSource("mapbox-dem")||(e.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),e.setTerrain({source:"mapbox-dem",exaggeration:1.5}))},je=function(e){e.getLayer("sky")||e.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":15}})},de=function(){if(a){l||(l=0);var e=X.along(X.lineString(a),o*l).geometry.coordinates,t=X.along(X.lineString(i),c*l).geometry.coordinates,n=r.getFreeCameraOptions();n.position=Z.a.MercatorCoordinate.fromLngLat({lng:t[0]+$[0],lat:t[1]+$[1]},Q),n.lookAtPoint({lng:e[0],lat:e[1]}),r.setFreeCameraOptions(n);var s={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:e}}]};r.getSource("point").setData(s)}},ue=function e(t){s||(s=t),(l=(t-s)/K)>1&&setTimeout((function(){s=0}),1500);var n=X.along(X.lineString(a),o*l).geometry.coordinates,j=X.along(X.lineString(i),c*l).geometry.coordinates,d=r.getFreeCameraOptions();d.position=Z.a.MercatorCoordinate.fromLngLat({lng:j[0]-$[0],lat:j[1]-$[1]},Q),d.lookAtPoint({lng:n[0],lat:n[1]}),r.setFreeCameraOptions(d);var u={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}]},b=r.getSource("point");b&&b.setData(u),U&&requestAnimationFrame(e)},be=n(76),pe=n.n(be),xe=n(149),me=[],he=function(e){var t="/potaling/geojson/"+e.target.alt;pe.a.get(t).then((function(e){var t=e.data,n=JSON.stringify(t);ee(n)}))},ge=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){xe.a("/potaling/pota_data.csv",(function(e){me.push(e)}))}},{key:"render",value:function(){return Object(Y.jsx)("div",{children:Object(Y.jsxs)(E.a,{cols:1,children:[Object(Y.jsx)(J.a,{children:Object(Y.jsx)(G.a,{component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u30c7\u30fc\u30bf"})},"Subheader"),me.map((function(e){return Object(Y.jsxs)(J.a,{children:[Object(Y.jsx)("img",{srcSet:"".concat("/potaling","/images/").concat(e.img),alt:e.json,loading:"lazy",onClick:he}),Object(Y.jsx)(q.a,{title:e.title,subtitle:e.date,actionIcon:Object(Y.jsx)(L.a,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"info about ".concat(e.title),children:Object(Y.jsx)(H.a,{})})})]},e.img)}))]})})}}]),n}(j.Component),Oe=n(141),fe=n.n(Oe),ye=n(139),ve=n.n(ye),Se=n(140),ke=n.n(Se),Ce=n(138),we=n.n(Ce),Le=n(335),Fe=n(334),Be=n(132),De=n.n(Be),Ne=n(131),Te=n.n(Ne),Ie=n(306),Me=n(333),Ae=n(310);function ze(){return Object(Y.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(Y.jsx)(Me.a,{color:"inherit",href:"https://material-ui.com/",children:"t.matsuoka"})," ",(new Date).getFullYear(),"."]})}var Pe,Ve=Object(g.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),Ee={width:"100%"},Je=d.a.forwardRef((function(e,t){return Object(Y.jsx)(Ie.a,Object(m.a)({direction:"up",ref:t},e))}));function qe(){var e=Ve(),t=d.a.useState(!0),n=Object(x.a)(t,2),a=n[0],i=n[1];Pe=function(){i(!0)};var r=function(){i(!1)};return Object(Y.jsx)("div",{children:Object(Y.jsxs)(Fe.a,{fullScreen:!0,open:a,onClose:r,TransitionComponent:Je,children:[Object(Y.jsx)(v.a,{className:e.appBar,children:Object(Y.jsxs)(S.a,{children:[Object(Y.jsx)(L.a,{edge:"start",color:"inherit",onClick:r,"aria-label":"close",children:Object(Y.jsx)(Te.a,{})}),Object(Y.jsx)(C.a,{variant:"h6",className:e.title,onClick:r,children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(Y.jsx)(De.a,{onClick:r}),Object(Y.jsx)(Le.a,{color:"inherit",onClick:r,children:"Close"})]})}),Object(Y.jsxs)("div",{children:[Object(Y.jsx)("img",{src:"".concat("/potaling","/images/back.jpg"),style:Ee,alt:"top"}),Object(Y.jsxs)(Ae.a,{textAlign:"center",children:[Object(Y.jsx)("h1",{children:"\u300eBrompton\u300f\u3067\u300e\u30dd\u30bf\u30ea\u30f3\u30b0\u300f\u3057\u305f\u7d4c\u8def\u3092\u4fef\u77b0\u3059\u308b\u5b9f\u9a13\u30b5\u30a4\u30c8\u3067\u3059\u3002"}),Object(Y.jsxs)("p",{style:{fontSize:"20px"},children:["\u30dd\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u5730\u57df\u3092\u9ce5\u77b0\u3067\u773a\u3081\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u4f5c\u6210\u3057\u305f\u3001\u8d70\u884c\u7d4c\u8def\u30923D\u5730\u56f3\u306b\u8868\u793a\u3059\u308bWeb\u30a2\u30d7\u30ea\u3067\u3059\u3002",Object(Y.jsx)("br",{}),"\u4f5c\u8005\u304c\u81ea\u8ee2\u8eca\u3067\u6563\u6b69\u3057\u305f\u7d4c\u8def\u30923D\u5730\u56f3\u3067\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002",Object(Y.jsx)("br",{}),"\u307e\u305f\u3001\u4efb\u610f\u306e\u7d4c\u8def\u60c5\u5831\uff08Geojson/Point\uff09\u3092\u8aad\u307f\u8fbc\u3093\u30673D\u5730\u56f3\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002"]}),Object(Y.jsx)(Le.a,{variant:"contained",size:"large",onClick:r,children:"\u958b\u3000\u59cb"})]})]}),Object(Y.jsx)("br",{}),Object(Y.jsx)(ze,{})]})})}var Ge,We=n(142),He=n.n(We),Re=n(143),Ze=n.n(Re),Xe=n(144),Ye=n.n(Xe),Ke=n(313),Qe=n(319),Ue=n(336),_e=n(337),$e=n(133),et=n.n($e),tt=n(134),nt=n.n(tt),at=n(135),it=n.n(at),rt=n(317),ot=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(Y.jsxs)("div",{style:jt,children:[Object(Y.jsx)(w.a,{}),Object(Y.jsx)(Ke.a,{title:"\u8996\u70b9\u306e\u9ad8\u3055",placement:"right",children:Object(Y.jsxs)(Ue.a,{button:!0,children:[Object(Y.jsx)(_e.a,{children:Object(Y.jsx)(et.a,{})}),Object(Y.jsx)(rt.a,{defaultValue:500,getAriaValueText:ct,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:200,max:2e3,style:{marginLeft:"0.8rem"}})]})}),Object(Y.jsx)(Ke.a,{title:"\u8996\u70b9\u306e\u65b9\u5411",placement:"right",children:Object(Y.jsxs)(Ue.a,{button:!0,children:[Object(Y.jsx)(_e.a,{children:Object(Y.jsx)(nt.a,{onClick:te})}),Object(Y.jsx)(rt.a,{defaultValue:0,getAriaValueText:st,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:360,style:{marginLeft:"0.8rem"}})]})}),Object(Y.jsx)(Ke.a,{title:"\u79fb\u52d5\u6642\u9593",placement:"right",children:Object(Y.jsxs)(Ue.a,{button:!0,children:[Object(Y.jsx)(_e.a,{children:Object(Y.jsx)(it.a,{})}),Object(Y.jsx)(rt.a,{defaultValue:300,getAriaValueText:lt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:20,marks:!0,min:80,max:360,style:{marginLeft:"0.8rem"}})]})})]})}}]),n}(j.Component),ct=function(e){Q=e,U||de()},st=function(e){_=e/180*Math.PI,$=[-.005*Math.cos(_)- -.005*Math.sin(_),-.005*Math.sin(_)+-.005*Math.cos(_)],U||de()},lt=function(e){te(1e3*e)},jt={float:"left",width:230,lineHeight:"32px",borderRadius:4,border:"none",padding:"0 4px",color:"#fff",background:"#ffffff88",position:"absolute",top:100,left:5,zindex:255},dt=n(137),ut=n.n(dt),bt=n(314),pt=n(339),xt=n(338),mt=[],ht=0;function gt(e){var t=d.a.useState(!1),n=Object(x.a)(t,2),a=n[0],i=n[1];Ge=function(){i(!0)};var o=function(e){var t,n=e.geometry.coordinates;t=n,r.jumpTo({center:t})};return Object(Y.jsxs)(Fe.a,{"aria-labelledby":"simple-dialog-title",open:a,children:[Object(Y.jsxs)(xt.a,{id:"simple-dialog-title",children:[Object(Y.jsx)(Le.a,{variant:"contained",color:"primary",onClick:function(){i(!1)},children:"\u9589\u3058\u308b"}),"\u3000"]}),Object(Y.jsx)(k.a,{children:mt.map((function(e){return Object(Y.jsx)(Ue.a,{button:!0,onClick:function(){return o(e)},children:Object(Y.jsx)(pt.a,{primary:e.properties.title})},e.properties.title+String(ht++))}))})]})}var Ot,ft=300,yt=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(ft,"px)"),marginLeft:ft,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:ft,flexShrink:0},drawerPaper:{width:ft,boxSizing:"border-box"},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},toolbarButtons:{marginLeft:"auto"}}})),vt=function(){if(Ot&&!(Ot.length<1)){var e="https://msearch.gsi.go.jp/address-search/AddressSearch?q="+Ot;pe.a.get(e).then((function(e){var t;t=e.data,mt=t,Ge()}))}},St=function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];console.log(n.name),console.log(n.size),console.log(n.type),t.readAsText(n)},t.onload=function(){return ee(t.result)},e.click()},kt=oe.SAT,Ct=function(){!function(e){console.log(e),r.setStyle(e),r.on("style.load",(function(){r.resize(),le(r),je(r),a&&ce(r)}))}(kt=kt===oe.SAT?oe.STD:oe.SAT)};function wt(){var e=yt(),t=Object(O.a)(),n=d.a.useState(!1),a=Object(x.a)(n,2),i=a[0],r=a[1],o=function(){r(!1)};return Object(Y.jsxs)("div",{className:e.root,children:[Object(Y.jsx)(f.a,{}),Object(Y.jsx)(v.a,{position:"fixed",className:Object(h.a)(e.appBar,Object(p.a)({},e.appBarShift,i)),children:Object(Y.jsxs)(S.a,{children:[Object(Y.jsx)(L.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(h.a)(e.menuButton,i&&e.hide),children:Object(Y.jsx)(D.a,{})}),Object(Y.jsx)(C.a,{variant:"h6",noWrap:!0,component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(Y.jsx)("div",{className:e.toolbarButtons,children:Object(Y.jsxs)(Qe.a,{container:!0,alignItems:"center",className:e.root,children:[Object(Y.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(Y.jsx)(Ke.a,{title:"\u691c\u7d22",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:vt,children:Object(Y.jsx)(ut.a,{})})}),Object(Y.jsx)(bt.a,{id:"input-search",label:"\u691c\u7d22",size:"small",style:{background:"white"},onChange:function(e){return t=e.target.value,void(Ot=t);var t},onKeyDown:function(e){"Enter"===e.key&&vt()}}),Object(Y.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(Y.jsx)(Ke.a,{title:"Geojson\u8aad\u8fbc",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:St,children:Object(Y.jsx)(we.a,{})})}),Object(Y.jsx)("input",{type:"file",id:"file",style:{display:"none"}}),Object(Y.jsx)(Ke.a,{title:"\u5730\u56f3\u5207\u66ff",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:Ct,children:Object(Y.jsx)(ve.a,{})})}),Object(Y.jsx)(Ke.a,{title:"\u9818\u57df\u79fb\u52d5",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:re,children:Object(Y.jsx)(ke.a,{})})}),Object(Y.jsx)(Ke.a,{title:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:Pe,children:Object(Y.jsx)(fe.a,{})})}),Object(Y.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(Y.jsx)(Ke.a,{title:"\u958b\u59cb",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:ae,children:Object(Y.jsx)(He.a,{})})}),Object(Y.jsx)(Ke.a,{title:"\u505c\u6b62",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:ie,children:Object(Y.jsx)(Ze.a,{})})}),Object(Y.jsx)(Ke.a,{title:"\u51fa\u767a\u70b9\u306b\u623b\u308b",placement:"bottom",children:Object(Y.jsx)(L.a,{color:"inherit",onClick:ne,children:Object(Y.jsx)(Ye.a,{})})}),Object(Y.jsx)(w.a,{orientation:"vertical",flexItem:!0})]})})]})}),Object(Y.jsxs)(y.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper},children:[Object(Y.jsx)("div",{className:e.drawerHeader,children:Object(Y.jsx)(L.a,{onClick:o,children:"ltr"===t.direction?Object(Y.jsx)(T.a,{}):Object(Y.jsx)(M.a,{})})}),Object(Y.jsx)(w.a,{}),Object(Y.jsx)(k.a,{children:Object(Y.jsx)(ge,{})}),Object(Y.jsx)(w.a,{})]}),Object(Y.jsxs)("main",{className:e.content,children:[Object(Y.jsx)("div",{className:e.appBarSpacer}),Object(Y.jsxs)(F.a,{maxWidth:"xl",className:e.container,onClick:o,children:[Object(Y.jsx)(oe,{}),Object(Y.jsx)(ot,{})]})]}),Object(Y.jsx)(qe,{}),Object(Y.jsx)(gt,{})]})}var Lt=n(96);var Ft=function(){return Object(Y.jsxs)(Lt.b,{children:[Object(Y.jsx)(Lt.a,{children:Object(Y.jsx)("title",{children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"})}),Object(Y.jsx)(wt,{})]})},Bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,341)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};b.a.render(Object(Y.jsx)(d.a.StrictMode,{children:Object(Y.jsx)(Ft,{})}),document.getElementById("root")),Bt()}},[[244,1,2]]]);
//# sourceMappingURL=main.f4b9f0a2.chunk.js.map