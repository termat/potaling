(this.webpackJsonppotaling=this.webpackJsonppotaling||[]).push([[0],{147:function(e,t){},276:function(e,t,n){},278:function(e,t,n){},287:function(e,t){},312:function(e,t,n){"use strict";n.r(t);var a,i,r,o=n(2),c=n.n(o),s=n(77),l=n.n(s),j=(n(276),n(9)),d=n(22),u=n(102),b=n(10),p=n(388),h=n(56),m=n(384),x=n(400),g=n(396),O=n(397),f=n(399),y=n(395),v=n(398),S=n(394),k=n(401),C=n(206),w=n.n(C),L=n(215),F=n.n(L),B=n(216),D=n.n(B),N=n(74),T=n(75),I=n(88),M=n(89),A=n(402),z=n(403),P=n(405),V=n(404),E=n(200),H=n.n(E),J=(n(277),n(278),n(385)),W=n(50),q=n(81),G=n.n(q),Z=n(198),R=n.n(Z),X=n(3);G.a.workerClass=R.a;var Y,K,Q,U,_=24e4,$=500,ee=!1,te=0,ne=[-.005,-.005],ae=function(e){ce();var t=JSON.parse(e);a=[],i=[],t.features.forEach((function(e){var t=e.geometry.coordinates;a.push(t),i.push(t)})),r.getLayer("line")&&r.removeLayer("line"),r.getSource("trace")&&r.removeSource("trace"),r.getLayer("point")&&r.removeLayer("point"),r.getSource("point")&&r.removeSource("point"),ue(r),se(),Q=null,U=0},ie=function(e){_=e},re=function(){Q=null,a&&requestAnimationFrame(me)},oe=function(){ee=!0,a&&requestAnimationFrame(me)},ce=function(){ee=!1},se=function(){if(a){var e=1e5,t=-1e4,n=1e5,i=-1e4;a.forEach((function(a){e=Math.min(e,a[0]),t=Math.max(t,a[0]),n=Math.min(n,a[1]),i=Math.max(i,a[1])})),r.fitBounds([[e,n],[t,i]])}},le={width:window.innerWidth,height:window.innerHeight,longitude:139.692704,latitude:35.689526,zoom:14,maxZoom:18,pitch:65},je=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){r=new G.a.Map({accessToken:"pk.eyJ1IjoidGVybWF0IiwiYSI6ImNqdXBmYXk1aDBwMnI0MW8xNXZ3dzVkOGUifQ.8nBCHZrBDS50yJbykEE4Sg",container:this.container,hash:!0,style:n.SAT,center:[139.692704,35.689526],zoom:14,maxZoom:18,minZoom:8,pitch:65,bearing:-180,interactive:!0,localIdeographFontFamily:!1}),this.deckgl=new J.a({gl:r.painter.context.gl,layers:[],initialViewState:le}),r.addControl(new G.a.FullscreenControl),r.addControl(new G.a.NavigationControl),r.on("load",(function(){be(r),pe(r),ue(r)}))}},{key:"render",value:function(){var e=this;return Object(X.jsx)("div",{className:"map",ref:function(t){return e.container=t}})}}]),n}(o.Component);je.SAT="mapbox://styles/mapbox/satellite-v9",je.STD="/potaling/std.json";var de=function(e){if(e.getSource("trace")||e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.getLayer("line")||e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}}),!e.getSource("point")){var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t})}e.getLayer("point")||e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}})},ue=function(e){if(a){e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}});var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t}),e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}}),Y=W.lineDistance(W.lineString(a)),K=W.lineDistance(W.lineString(i))}},be=function(e){e.getSource("mapbox-dem")||(e.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),e.setTerrain({source:"mapbox-dem",exaggeration:1.5}))},pe=function(e){e.getLayer("sky")||e.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":15}})},he=function(){if(a){U||(U=0);var e=W.along(W.lineString(a),Y*U).geometry.coordinates,t=W.along(W.lineString(i),K*U).geometry.coordinates,n=r.getFreeCameraOptions();n.position=G.a.MercatorCoordinate.fromLngLat({lng:t[0]+ne[0],lat:t[1]+ne[1]},$),n.lookAtPoint({lng:e[0],lat:e[1]}),r.setFreeCameraOptions(n);var o={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:e}}]};r.getSource("point").setData(o)}},me=function e(t){Q||(Q=t),(U=(t-Q)/_)>1&&setTimeout((function(){Q=0}),1500);var n=W.along(W.lineString(a),Y*U).geometry.coordinates,o=W.along(W.lineString(i),K*U).geometry.coordinates,c=r.getFreeCameraOptions();c.position=G.a.MercatorCoordinate.fromLngLat({lng:o[0]-ne[0],lat:o[1]-ne[1]},$),c.lookAtPoint({lng:n[0],lat:n[1]}),r.setFreeCameraOptions(c);var s={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}]},l=r.getSource("point");l&&l.setData(s),ee&&requestAnimationFrame(e)},xe=n(123),ge=n.n(xe),Oe=n(219),fe=[],ye=function(e){var t="/potaling/geojson/"+e.target.alt;ge.a.get(t).then((function(e){var t=e.data,n=JSON.stringify(t);ae(n)}))},ve=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"componentDidMount",value:function(){Oe.a("/potaling/pota_data.csv",(function(e){fe.push(e)}))}},{key:"render",value:function(){return Object(X.jsx)("div",{children:Object(X.jsxs)(A.a,{cols:1,children:[Object(X.jsx)(z.a,{children:Object(X.jsx)(V.a,{component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u30c7\u30fc\u30bf"})},"Subheader"),fe.map((function(e){return Object(X.jsxs)(z.a,{children:[Object(X.jsx)("img",{srcSet:"".concat("/potaling","/images/").concat(e.img),alt:e.json,loading:"lazy",onClick:ye}),Object(X.jsx)(P.a,{title:e.title,subtitle:e.date,actionIcon:Object(X.jsx)(S.a,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"info about ".concat(e.title),children:Object(X.jsx)(H.a,{})})})]},e.img)}))]})})}}]),n}(o.Component),Se=n(211),ke=n.n(Se),Ce=n(209),we=n.n(Ce),Le=n(210),Fe=n.n(Le),Be=n(208),De=n.n(Be),Ne=n(408),Te=n(407),Ie=n(202),Me=n.n(Ie),Ae=n(201),ze=n.n(Ae),Pe=n(378),Ve=n(406),Ee=n(382);function He(){return Object(X.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(X.jsx)(Ve.a,{color:"inherit",href:"https://material-ui.com/",children:"t.matsuoka"})," ",(new Date).getFullYear(),"."]})}var Je,We=Object(p.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),qe={width:"100%"},Ge=c.a.forwardRef((function(e,t){return Object(X.jsx)(Pe.a,Object(u.a)({direction:"up",ref:t},e))}));function Ze(){var e=We(),t=c.a.useState(!0),n=Object(d.a)(t,2),a=n[0],i=n[1];Je=function(){i(!0)};var r=function(){i(!1)};return Object(X.jsx)("div",{children:Object(X.jsxs)(Te.a,{fullScreen:!0,open:a,onClose:r,TransitionComponent:Ge,children:[Object(X.jsx)(g.a,{className:e.appBar,children:Object(X.jsxs)(O.a,{children:[Object(X.jsx)(S.a,{edge:"start",color:"inherit",onClick:r,"aria-label":"close",children:Object(X.jsx)(ze.a,{})}),Object(X.jsx)(y.a,{variant:"h6",className:e.title,onClick:r,children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(X.jsx)(Me.a,{onClick:r}),Object(X.jsx)(Ne.a,{color:"inherit",onClick:r,children:"Close"})]})}),Object(X.jsxs)("div",{children:[Object(X.jsx)("img",{src:"".concat("/potaling","/images/back.jpg"),style:qe,alt:"top"}),Object(X.jsxs)(Ee.a,{textAlign:"center",children:[Object(X.jsx)("h1",{children:"\u300eBrompton\u300f\u3067\u300e\u30dd\u30bf\u30ea\u30f3\u30b0\u300f\u3057\u305f\u7d4c\u8def\u3092\u4fef\u77b0\u3059\u308b\u5b9f\u9a13\u30b5\u30a4\u30c8\u3067\u3059\u3002"}),Object(X.jsxs)("p",{style:{fontSize:"20px"},children:["\u30dd\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u5730\u57df\u3092\u9ce5\u77b0\u3067\u773a\u3081\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u4f5c\u6210\u3057\u305f\u3001\u8d70\u884c\u7d4c\u8def\u30923D\u5730\u56f3\u306b\u8868\u793a\u3059\u308bWeb\u30a2\u30d7\u30ea\u3067\u3059\u3002",Object(X.jsx)("br",{}),"\u4f5c\u8005\u304c\u81ea\u8ee2\u8eca\u3067\u6563\u6b69\u3057\u305f\u7d4c\u8def\u30923D\u5730\u56f3\u3067\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002",Object(X.jsx)("br",{}),"\u307e\u305f\u3001\u4efb\u610f\u306e\u7d4c\u8def\u60c5\u5831\uff08Geojson/Point\uff09\u3092\u8aad\u307f\u8fbc\u3093\u30673D\u5730\u56f3\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002"]}),Object(X.jsx)(Ne.a,{variant:"contained",size:"large",onClick:r,children:"\u958b\u3000\u59cb"})]})]}),Object(X.jsx)("br",{}),Object(X.jsx)(He,{})]})})}var Re,Xe=n(212),Ye=n.n(Xe),Ke=n(213),Qe=n.n(Ke),Ue=n(214),_e=n.n(Ue),$e=n(386),et=n(392),tt=n(409),nt=n(410),at=n(203),it=n.n(at),rt=n(204),ot=n.n(rt),ct=n(205),st=n.n(ct),lt=n(390),jt=function(e){Object(I.a)(n,e);var t=Object(M.a)(n);function n(){return Object(N.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){return Object(X.jsxs)("div",{style:mt,children:[Object(X.jsx)(v.a,{}),Object(X.jsx)($e.a,{title:"\u8996\u70b9\u306e\u9ad8\u3055",placement:"right",children:Object(X.jsxs)(tt.a,{children:[Object(X.jsx)(nt.a,{children:Object(X.jsx)(it.a,{})}),Object(X.jsx)(lt.a,{defaultValue:500,getAriaValueText:bt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:200,max:2e3,onChange:ut,style:{marginLeft:"0.8rem"}})]})}),Object(X.jsx)($e.a,{title:"\u8996\u70b9\u306e\u65b9\u5411",placement:"right",children:Object(X.jsxs)(tt.a,{children:[Object(X.jsx)(nt.a,{children:Object(X.jsx)(ot.a,{onClick:ie})}),Object(X.jsx)(lt.a,{defaultValue:0,getAriaValueText:pt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:360,onChange:ut,style:{marginLeft:"0.8rem"}})]})}),Object(X.jsx)($e.a,{title:"\u79fb\u52d5\u6642\u9593",placement:"right",children:Object(X.jsxs)(tt.a,{children:[Object(X.jsx)(nt.a,{children:Object(X.jsx)(st.a,{})}),Object(X.jsx)(lt.a,{defaultValue:300,getAriaValueText:ht,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:20,marks:!0,min:80,max:360,onChange:ut,style:{marginLeft:"0.8rem"}})]})})]})}}]),n}(o.Component),dt=!1,ut=function(){dt=!0},bt=function(e){dt&&($=e,ee||he()),dt=!1},pt=function(e){dt&&(te=e/180*Math.PI,ne=[-.005*Math.cos(te)- -.005*Math.sin(te),-.005*Math.sin(te)+-.005*Math.cos(te)],ee||he()),dt=!1},ht=function(e){dt&&ie(1e3*e),dt=!1},mt={float:"left",width:230,lineHeight:"32px",borderRadius:4,border:"none",padding:"0 4px",color:"#fff",background:"#ffffff88",position:"absolute",top:100,left:5,zindex:255},xt=n(207),gt=n.n(xt),Ot=n(387),ft=n(412),yt=n(411),vt=[],St=0;function kt(e){var t=c.a.useState(!1),n=Object(d.a)(t,2),a=n[0],i=n[1];Re=function(){i(!0)};var o=function(e){var t,n=e.geometry.coordinates;t=n,r.jumpTo({center:t})};return Object(X.jsxs)(Te.a,{"aria-labelledby":"simple-dialog-title",open:a,children:[Object(X.jsxs)(yt.a,{id:"simple-dialog-title",children:[Object(X.jsx)(Ne.a,{variant:"contained",color:"primary",onClick:function(){i(!1)},children:"\u9589\u3058\u308b"}),"\u3000"]}),Object(X.jsx)(f.a,{children:vt.map((function(e){return Object(X.jsx)(tt.a,{button:!0,onClick:function(){return o(e)},children:Object(X.jsx)(ft.a,{primary:e.properties.title})},e.properties.title+String(St++))}))})]})}var Ct,wt=300,Lt=Object(p.a)((function(e){return{root:{display:"flex"},appBar:{height:"65px",transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(wt,"px)"),marginLeft:wt,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:wt,flexShrink:0},drawerPaper:{width:wt,boxSizing:"border-box"},drawerHeader:Object(u.a)(Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},toolbarButtons:{marginLeft:"auto"}}})),Ft=function(){if(Ct&&!(Ct.length<1)){var e="https://msearch.gsi.go.jp/address-search/AddressSearch?q="+Ct;ge.a.get(e).then((function(e){var t;t=e.data,vt=t,Re()}))}},Bt=function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];console.log(n.name),console.log(n.size),console.log(n.type),t.readAsText(n)},t.onload=function(){return ae(t.result)},e.click()},Dt=je.SAT,Nt=function(){!function(e){console.log(e),r.setStyle(e),r.on("style.load",(function(){r.resize(),be(r),pe(r),a&&de(r)}))}(Dt=Dt===je.SAT?je.STD:je.SAT)};function Tt(){var e=Lt(),t=Object(h.a)(),n=c.a.useState(!1),a=Object(d.a)(n,2),i=a[0],r=a[1],o=function(){r(!1)};return Object(X.jsxs)("div",{className:e.root,children:[Object(X.jsx)(m.a,{}),Object(X.jsx)(g.a,{className:Object(b.a)(e.appBar,Object(j.a)({},e.appBarShift,i)),children:Object(X.jsxs)(O.a,{children:[Object(X.jsx)(S.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(b.a)(e.menuButton,i&&e.hide),children:Object(X.jsx)(w.a,{})}),Object(X.jsx)(y.a,{variant:"h6",noWrap:!0,component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332"}),Object(X.jsx)("div",{className:e.toolbarButtons,children:Object(X.jsxs)(et.a,{container:!0,alignItems:"center",className:e.root,children:[Object(X.jsx)(v.a,{orientation:"vertical",flexItem:!0}),Object(X.jsx)($e.a,{title:"\u691c\u7d22",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:Ft,children:Object(X.jsx)(gt.a,{})})}),Object(X.jsx)(Ot.a,{id:"input-search",label:"\u691c\u7d22",size:"small",style:{background:"white"},onChange:function(e){return t=e.target.value,void(Ct=t);var t},onKeyDown:function(e){"Enter"===e.key&&Ft()}}),Object(X.jsx)(v.a,{orientation:"vertical",flexItem:!0}),Object(X.jsx)($e.a,{title:"Geojson\u8aad\u8fbc",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:Bt,children:Object(X.jsx)(De.a,{})})}),Object(X.jsx)("input",{type:"file",id:"file",style:{display:"none"}}),Object(X.jsx)($e.a,{title:"\u5730\u56f3\u5207\u66ff",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:Nt,children:Object(X.jsx)(we.a,{})})}),Object(X.jsx)($e.a,{title:"\u9818\u57df\u79fb\u52d5",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:se,children:Object(X.jsx)(Fe.a,{})})}),Object(X.jsx)($e.a,{title:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:Je,children:Object(X.jsx)(ke.a,{})})}),Object(X.jsx)(v.a,{orientation:"vertical",flexItem:!0}),Object(X.jsx)($e.a,{title:"\u958b\u59cb",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:oe,children:Object(X.jsx)(Ye.a,{})})}),Object(X.jsx)($e.a,{title:"\u505c\u6b62",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:ce,children:Object(X.jsx)(Qe.a,{})})}),Object(X.jsx)($e.a,{title:"\u51fa\u767a\u70b9\u306b\u623b\u308b",placement:"bottom",children:Object(X.jsx)(S.a,{color:"inherit",onClick:re,children:Object(X.jsx)(_e.a,{})})}),Object(X.jsx)(v.a,{orientation:"vertical",flexItem:!0})]})})]})}),Object(X.jsxs)(x.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper},children:[Object(X.jsx)("div",{className:e.drawerHeader,children:Object(X.jsx)(S.a,{onClick:o,children:"ltr"===t.direction?Object(X.jsx)(F.a,{}):Object(X.jsx)(D.a,{})})}),Object(X.jsx)(v.a,{}),Object(X.jsx)(f.a,{children:Object(X.jsx)(ve,{})}),Object(X.jsx)(v.a,{})]}),Object(X.jsxs)("main",{className:Object(b.a)(e.content,Object(j.a)({},e.contentShift,i)),children:[Object(X.jsx)("div",{className:e.drawerHeader}),Object(X.jsxs)(k.a,{maxWidth:"xl",className:e.container,onClick:o,children:[Object(X.jsx)(je,{}),Object(X.jsx)(jt,{})]})]}),Object(X.jsx)(Ze,{}),Object(X.jsx)(kt,{})]})}var It=n(150);var Mt=function(){return Object(X.jsxs)(It.b,{children:[Object(X.jsx)(It.a,{children:Object(X.jsx)("title",{children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"})}),Object(X.jsx)(Tt,{})]})},At=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,414)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};l.a.render(Object(X.jsx)(c.a.StrictMode,{children:Object(X.jsx)(Mt,{})}),document.getElementById("root")),At()}},[[312,1,2]]]);
//# sourceMappingURL=main.2c63979a.chunk.js.map