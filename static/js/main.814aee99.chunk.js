(this.webpackJsonppotaling=this.webpackJsonppotaling||[]).push([[0],{146:function(e,t){},265:function(e,t,n){},284:function(e,t,n){},286:function(e,t){},311:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,j=n(2),d=n.n(j),u=n(77),p=n.n(u),b=(n(265),n(9)),h=n(22),m=n(101),x=n(10),g=n(387),O=n(56),f=n(383),y=n(399),v=n(395),S=n(396),k=n(398),C=n(394),w=n(397),L=n(393),F=n(400),B=n(195),D=n.n(B),N=n(204),T=n.n(N),I=n(205),M=n.n(I),A=n(74),z=n(75),P=n(87),V=n(88),E=n(401),J=n(402),W=n(404),q=n(403),G=n(189),H=n.n(G),Z=n(93),R=n.n(Z),X=(n(283),n(284),n(384)),Y=n(50),K=n(3),Q=24e4,U=500,_=!1,$=0,ee=[-.005,-.005],te=function(e){re();var t=JSON.parse(e);a=[],i=[],t.features.forEach((function(e){var t=e.geometry.coordinates;a.push(t),i.push(t)})),r.getLayer("line")&&r.removeLayer("line"),r.getSource("trace")&&r.removeSource("trace"),r.getLayer("point")&&r.removeLayer("point"),r.getSource("point")&&r.removeSource("point"),je(r),oe(),s=null,l=0},ne=function(e){Q=e},ae=function(){s=null,a&&requestAnimationFrame(be)},ie=function(){_=!0,a&&requestAnimationFrame(be)},re=function(){_=!1},oe=function(){if(a){var e=1e5,t=-1e4,n=1e5,i=-1e4;a.forEach((function(a){e=Math.min(e,a[0]),t=Math.max(t,a[0]),n=Math.min(n,a[1]),i=Math.max(i,a[1])})),r.fitBounds([[e,n],[t,i]])}},ce={width:window.innerWidth,height:window.innerHeight,longitude:139.692704,latitude:35.689526,zoom:14,maxZoom:18,pitch:65},se=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){r=new R.a.Map({accessToken:"pk.eyJ1IjoidGVybWF0IiwiYSI6ImNqdXBmYXk1aDBwMnI0MW8xNXZ3dzVkOGUifQ.8nBCHZrBDS50yJbykEE4Sg",container:this.container,hash:!0,style:n.SAT,center:[139.692704,35.689526],zoom:14,maxZoom:18,minZoom:8,pitch:65,bearing:-180,interactive:!0,localIdeographFontFamily:!1}),this.deckgl=new X.a({gl:r.painter.context.gl,layers:[],initialViewState:ce}),r.addControl(new R.a.FullscreenControl),r.addControl(new R.a.NavigationControl),r.on("load",(function(){de(r),ue(r),je(r)}))}},{key:"render",value:function(){var e=this;return Object(K.jsx)("div",{className:"map",ref:function(t){return e.container=t}})}}]),n}(j.Component);se.SAT="mapbox://styles/mapbox/satellite-v9",se.STD="/potaling/std.json";var le=function(e){if(e.getSource("trace")||e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.getLayer("line")||e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}}),!e.getSource("point")){var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t})}e.getLayer("point")||e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}})},je=function(e){if(a){e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}});var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t}),e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}}),o=Y.lineDistance(Y.lineString(a)),c=Y.lineDistance(Y.lineString(i))}},de=function(e){e.getSource("mapbox-dem")||(e.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),e.setTerrain({source:"mapbox-dem",exaggeration:1.5}))},ue=function(e){e.getLayer("sky")||e.addLayer({id:"sky",type:"sky",paint:{"sky-type":"atmosphere","sky-atmosphere-sun":[0,0],"sky-atmosphere-sun-intensity":15}})},pe=function(){if(a){l||(l=0);var e=Y.along(Y.lineString(a),o*l).geometry.coordinates,t=Y.along(Y.lineString(i),c*l).geometry.coordinates,n=r.getFreeCameraOptions();n.position=R.a.MercatorCoordinate.fromLngLat({lng:t[0]+ee[0],lat:t[1]+ee[1]},U),n.lookAtPoint({lng:e[0],lat:e[1]}),r.setFreeCameraOptions(n);var s={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:e}}]};r.getSource("point").setData(s)}},be=function e(t){s||(s=t),(l=(t-s)/Q)>1&&setTimeout((function(){s=0}),1500);var n=Y.along(Y.lineString(a),o*l).geometry.coordinates,j=Y.along(Y.lineString(i),c*l).geometry.coordinates,d=r.getFreeCameraOptions();d.position=R.a.MercatorCoordinate.fromLngLat({lng:j[0]-ee[0],lat:j[1]-ee[1]},U),d.lookAtPoint({lng:n[0],lat:n[1]}),r.setFreeCameraOptions(d);var u={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}]},p=r.getSource("point");p&&p.setData(u),_&&requestAnimationFrame(e)},he=n(123),me=n.n(he),xe=n(208),ge=[],Oe=function(e){var t="/potaling/geojson/"+e.target.alt;me.a.get(t).then((function(e){var t=e.data,n=JSON.stringify(t);te(n)}))},fe=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){xe.a("/potaling/pota_data.csv",(function(e){ge.push(e)}))}},{key:"render",value:function(){return Object(K.jsx)("div",{children:Object(K.jsxs)(E.a,{cols:1,children:[Object(K.jsx)(J.a,{children:Object(K.jsx)(q.a,{component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u30c7\u30fc\u30bf"})},"Subheader"),ge.map((function(e){return Object(K.jsxs)(J.a,{children:[Object(K.jsx)("img",{srcSet:"".concat("/potaling","/images/").concat(e.img),alt:e.json,loading:"lazy",onClick:Oe}),Object(K.jsx)(W.a,{title:e.title,subtitle:e.date,actionIcon:Object(K.jsx)(L.a,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"info about ".concat(e.title),children:Object(K.jsx)(H.a,{})})})]},e.img)}))]})})}}]),n}(j.Component),ye=n(200),ve=n.n(ye),Se=n(198),ke=n.n(Se),Ce=n(199),we=n.n(Ce),Le=n(197),Fe=n.n(Le),Be=n(407),De=n(406),Ne=n(191),Te=n.n(Ne),Ie=n(190),Me=n.n(Ie),Ae=n(377),ze=n(405),Pe=n(381);function Ve(){return Object(K.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(K.jsx)(ze.a,{color:"inherit",href:"https://material-ui.com/",children:"t.matsuoka"})," ",(new Date).getFullYear(),"."]})}var Ee,Je=Object(g.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),We={width:"100%"},qe=d.a.forwardRef((function(e,t){return Object(K.jsx)(Ae.a,Object(m.a)({direction:"up",ref:t},e))}));function Ge(){var e=Je(),t=d.a.useState(!0),n=Object(h.a)(t,2),a=n[0],i=n[1];Ee=function(){i(!0)};var r=function(){i(!1)};return Object(K.jsx)("div",{children:Object(K.jsxs)(De.a,{fullScreen:!0,open:a,onClose:r,TransitionComponent:qe,children:[Object(K.jsx)(v.a,{className:e.appBar,children:Object(K.jsxs)(S.a,{children:[Object(K.jsx)(L.a,{edge:"start",color:"inherit",onClick:r,"aria-label":"close",children:Object(K.jsx)(Me.a,{})}),Object(K.jsx)(C.a,{variant:"h6",className:e.title,onClick:r,children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(K.jsx)(Te.a,{onClick:r}),Object(K.jsx)(Be.a,{color:"inherit",onClick:r,children:"Close"})]})}),Object(K.jsxs)("div",{children:[Object(K.jsx)("img",{src:"".concat("/potaling","/images/back.jpg"),style:We,alt:"top"}),Object(K.jsxs)(Pe.a,{textAlign:"center",children:[Object(K.jsx)("h1",{children:"\u300eBrompton\u300f\u3067\u300e\u30dd\u30bf\u30ea\u30f3\u30b0\u300f\u3057\u305f\u7d4c\u8def\u3092\u4fef\u77b0\u3059\u308b\u5b9f\u9a13\u30b5\u30a4\u30c8\u3067\u3059\u3002"}),Object(K.jsxs)("p",{style:{fontSize:"20px"},children:["\u30dd\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u5730\u57df\u3092\u9ce5\u77b0\u3067\u773a\u3081\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u4f5c\u6210\u3057\u305f\u3001\u8d70\u884c\u7d4c\u8def\u30923D\u5730\u56f3\u306b\u8868\u793a\u3059\u308bWeb\u30a2\u30d7\u30ea\u3067\u3059\u3002",Object(K.jsx)("br",{}),"\u4f5c\u8005\u304c\u81ea\u8ee2\u8eca\u3067\u6563\u6b69\u3057\u305f\u7d4c\u8def\u30923D\u5730\u56f3\u3067\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002",Object(K.jsx)("br",{}),"\u307e\u305f\u3001\u4efb\u610f\u306e\u7d4c\u8def\u60c5\u5831\uff08Geojson/Point\uff09\u3092\u8aad\u307f\u8fbc\u3093\u30673D\u5730\u56f3\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002"]}),Object(K.jsx)(Be.a,{variant:"contained",size:"large",onClick:r,children:"\u958b\u3000\u59cb"})]})]}),Object(K.jsx)("br",{}),Object(K.jsx)(Ve,{})]})})}var He,Ze=n(201),Re=n.n(Ze),Xe=n(202),Ye=n.n(Xe),Ke=n(203),Qe=n.n(Ke),Ue=n(385),_e=n(391),$e=n(408),et=n(409),tt=n(192),nt=n.n(tt),at=n(193),it=n.n(at),rt=n(194),ot=n.n(rt),ct=n(389),st=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(K.jsxs)("div",{style:ut,children:[Object(K.jsx)(w.a,{}),Object(K.jsx)(Ue.a,{title:"\u8996\u70b9\u306e\u9ad8\u3055",placement:"right",children:Object(K.jsxs)($e.a,{button:!0,children:[Object(K.jsx)(et.a,{children:Object(K.jsx)(nt.a,{})}),Object(K.jsx)(ct.a,{defaultValue:500,getAriaValueText:lt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:200,max:2e3,style:{marginLeft:"0.8rem"}})]})}),Object(K.jsx)(Ue.a,{title:"\u8996\u70b9\u306e\u65b9\u5411",placement:"right",children:Object(K.jsxs)($e.a,{button:!0,children:[Object(K.jsx)(et.a,{children:Object(K.jsx)(it.a,{onClick:ne})}),Object(K.jsx)(ct.a,{defaultValue:0,getAriaValueText:jt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:360,style:{marginLeft:"0.8rem"}})]})}),Object(K.jsx)(Ue.a,{title:"\u79fb\u52d5\u6642\u9593",placement:"right",children:Object(K.jsxs)($e.a,{button:!0,children:[Object(K.jsx)(et.a,{children:Object(K.jsx)(ot.a,{})}),Object(K.jsx)(ct.a,{defaultValue:300,getAriaValueText:dt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:20,marks:!0,min:80,max:360,style:{marginLeft:"0.8rem"}})]})})]})}}]),n}(j.Component),lt=function(e){U=e,_||pe()},jt=function(e){$=e/180*Math.PI,ee=[-.005*Math.cos($)- -.005*Math.sin($),-.005*Math.sin($)+-.005*Math.cos($)],_||pe()},dt=function(e){ne(1e3*e)},ut={float:"left",width:230,lineHeight:"32px",borderRadius:4,border:"none",padding:"0 4px",color:"#fff",background:"#ffffff88",position:"absolute",top:100,left:5,zindex:255},pt=n(196),bt=n.n(pt),ht=n(386),mt=n(411),xt=n(410),gt=[],Ot=0;function ft(e){var t=d.a.useState(!1),n=Object(h.a)(t,2),a=n[0],i=n[1];He=function(){i(!0)};var o=function(e){var t,n=e.geometry.coordinates;t=n,r.jumpTo({center:t})};return Object(K.jsxs)(De.a,{"aria-labelledby":"simple-dialog-title",open:a,children:[Object(K.jsxs)(xt.a,{id:"simple-dialog-title",children:[Object(K.jsx)(Be.a,{variant:"contained",color:"primary",onClick:function(){i(!1)},children:"\u9589\u3058\u308b"}),"\u3000"]}),Object(K.jsx)(k.a,{children:gt.map((function(e){return Object(K.jsx)($e.a,{button:!0,onClick:function(){return o(e)},children:Object(K.jsx)(mt.a,{primary:e.properties.title})},e.properties.title+String(Ot++))}))})]})}var yt,vt=300,St=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(vt,"px)"),marginLeft:vt,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:vt,flexShrink:0},drawerPaper:{width:vt,boxSizing:"border-box"},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},toolbarButtons:{marginLeft:"auto"}}})),kt=function(){if(yt&&!(yt.length<1)){var e="https://msearch.gsi.go.jp/address-search/AddressSearch?q="+yt;me.a.get(e).then((function(e){var t;t=e.data,gt=t,He()}))}},Ct=function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];console.log(n.name),console.log(n.size),console.log(n.type),t.readAsText(n)},t.onload=function(){return te(t.result)},e.click()},wt=se.SAT,Lt=function(){!function(e){console.log(e),r.setStyle(e),r.on("style.load",(function(){r.resize(),de(r),ue(r),a&&le(r)}))}(wt=wt===se.SAT?se.STD:se.SAT)};function Ft(){var e=St(),t=Object(O.a)(),n=d.a.useState(!1),a=Object(h.a)(n,2),i=a[0],r=a[1],o=function(){r(!1)};return Object(K.jsxs)("div",{className:e.root,children:[Object(K.jsx)(f.a,{}),Object(K.jsx)(v.a,{position:"fixed",className:Object(x.a)(e.appBar,Object(b.a)({},e.appBarShift,i)),children:Object(K.jsxs)(S.a,{children:[Object(K.jsx)(L.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(x.a)(e.menuButton,i&&e.hide),children:Object(K.jsx)(D.a,{})}),Object(K.jsx)(C.a,{variant:"h6",noWrap:!0,component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(K.jsx)("div",{className:e.toolbarButtons,children:Object(K.jsxs)(_e.a,{container:!0,alignItems:"center",className:e.root,children:[Object(K.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(K.jsx)(Ue.a,{title:"\u691c\u7d22",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:kt,children:Object(K.jsx)(bt.a,{})})}),Object(K.jsx)(ht.a,{id:"input-search",label:"\u691c\u7d22",size:"small",style:{background:"white"},onChange:function(e){return t=e.target.value,void(yt=t);var t},onKeyDown:function(e){"Enter"===e.key&&kt()}}),Object(K.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(K.jsx)(Ue.a,{title:"Geojson\u8aad\u8fbc",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:Ct,children:Object(K.jsx)(Fe.a,{})})}),Object(K.jsx)("input",{type:"file",id:"file",style:{display:"none"}}),Object(K.jsx)(Ue.a,{title:"\u5730\u56f3\u5207\u66ff",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:Lt,children:Object(K.jsx)(ke.a,{})})}),Object(K.jsx)(Ue.a,{title:"\u9818\u57df\u79fb\u52d5",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:oe,children:Object(K.jsx)(we.a,{})})}),Object(K.jsx)(Ue.a,{title:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:Ee,children:Object(K.jsx)(ve.a,{})})}),Object(K.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(K.jsx)(Ue.a,{title:"\u958b\u59cb",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:ie,children:Object(K.jsx)(Re.a,{})})}),Object(K.jsx)(Ue.a,{title:"\u505c\u6b62",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:re,children:Object(K.jsx)(Ye.a,{})})}),Object(K.jsx)(Ue.a,{title:"\u51fa\u767a\u70b9\u306b\u623b\u308b",placement:"bottom",children:Object(K.jsx)(L.a,{color:"inherit",onClick:ae,children:Object(K.jsx)(Qe.a,{})})}),Object(K.jsx)(w.a,{orientation:"vertical",flexItem:!0})]})})]})}),Object(K.jsxs)(y.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper},children:[Object(K.jsx)("div",{className:e.drawerHeader,children:Object(K.jsx)(L.a,{onClick:o,children:"ltr"===t.direction?Object(K.jsx)(T.a,{}):Object(K.jsx)(M.a,{})})}),Object(K.jsx)(w.a,{}),Object(K.jsx)(k.a,{children:Object(K.jsx)(fe,{})}),Object(K.jsx)(w.a,{})]}),Object(K.jsxs)("main",{className:e.content,children:[Object(K.jsx)("div",{className:e.appBarSpacer,onClick:o}),Object(K.jsxs)(F.a,{maxWidth:"xl",className:e.container,children:[Object(K.jsx)(se,{}),Object(K.jsx)(st,{})]})]}),Object(K.jsx)(Ge,{}),Object(K.jsx)(ft,{})]})}var Bt=n(149);var Dt=function(){return Object(K.jsxs)(Bt.b,{children:[Object(K.jsx)(Bt.a,{children:Object(K.jsx)("title",{children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"})}),Object(K.jsx)(Ft,{})]})},Nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,413)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};p.a.render(Object(K.jsx)(d.a.StrictMode,{children:Object(K.jsx)(Dt,{})}),document.getElementById("root")),Nt()}},[[311,1,2]]]);
//# sourceMappingURL=main.814aee99.chunk.js.map