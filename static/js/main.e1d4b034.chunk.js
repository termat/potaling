(this.webpackJsonppotaling=this.webpackJsonppotaling||[]).push([[0],{148:function(e,t){},263:function(e,t,n){},282:function(e,t,n){},284:function(e,t){},309:function(e,t,n){"use strict";n.r(t);var a,i,r,o,c,s,l,j=n(2),d=n.n(j),u=n(77),p=n.n(u),b=(n(263),n(8)),m=n(22),h=n(101),x=n(9),g=n(386),O=n(56),f=n(382),y=n(398),v=n(394),k=n(395),S=n(397),C=n(393),w=n(396),L=n(392),F=n(399),B=n(195),D=n.n(B),I=n(204),M=n.n(I),N=n(205),T=n.n(N),A=n(74),z=n(75),P=n(87),V=n(88),E=n(400),G=n(401),J=n(403),q=n(402),W=n(189),H=n.n(W),R=n(93),Z=n.n(R),X=(n(281),n(282),n(383)),Y=n(50),Q=n(187),U=n.n(Q),_=n(3),K=new Date(2021,5,15,12,0,0),$=24e4,ee=500,te=!1,ne=0,ae=[-.005,-.005],ie=function(e){se();var t=JSON.parse(e);a=[],i=[],t.features.forEach((function(e){var t=e.geometry.coordinates;a.push(t),i.push(t)})),r.getLayer("line")&&r.removeLayer("line"),r.getSource("trace")&&r.removeSource("trace"),r.getLayer("point")&&r.removeLayer("point"),r.getSource("point")&&r.removeSource("point"),ue(r),le(),s=null,l=0},re=function(e){$=e},oe=function(){s=null,a&&requestAnimationFrame(xe)},ce=function(){te=!0,a&&requestAnimationFrame(xe)},se=function(){te=!1},le=function(){if(a){var e=1e5,t=-1e4,n=1e5,i=-1e4;a.forEach((function(a){e=Math.min(e,a[0]),t=Math.max(t,a[0]),n=Math.min(n,a[1]),i=Math.max(i,a[1])})),r.fitBounds([[e,n],[t,i]])}},je=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){r=new Z.a.Map({accessToken:"pk.eyJ1IjoidGVybWF0IiwiYSI6ImNqdXBmYXk1aDBwMnI0MW8xNXZ3dzVkOGUifQ.8nBCHZrBDS50yJbykEE4Sg",container:this.container,hash:!0,style:n.SAT,center:[139.692704,35.689526],zoom:14,maxZoom:18,minZoom:8,pitch:65,bearing:-180,interactive:!0,localIdeographFontFamily:!1}),this.deckgl=new X.a({gl:r.painter.context.gl,layers:[]}),r.addControl(new Z.a.FullscreenControl),r.addControl(new Z.a.NavigationControl),r.on("load",(function(){r.resize(),pe(r),be(r),ue(r)}))}},{key:"render",value:function(){var e=this;return Object(_.jsx)("div",{className:"map",ref:function(t){return e.container=t}})}}]),n}(j.Component);je.SAT="mapbox://styles/mapbox/satellite-v9",je.STD="std.json";var de=function(e){if(e.getSource("trace")||e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.getLayer("line")||e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}}),!e.getSource("point")){var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t})}e.getLayer("point")||e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}})},ue=function(e){if(a){e.addSource("trace",{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a}}}),e.addLayer({type:"line",source:"trace",id:"line",paint:{"line-color":"orange","line-width":5},layout:{"line-cap":"round","line-join":"round"}});var t={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:a[0]}}]};e.addSource("point",{type:"geojson",data:t}),e.addLayer({id:"point",source:"point",type:"circle",paint:{"circle-color":"#ff0000","circle-radius":8,"circle-stroke-width":4,"circle-stroke-opacity":.05}}),o=Y.lineDistance(Y.lineString(a)),c=Y.lineDistance(Y.lineString(i))}},pe=function(e){e.getSource("mapbox-dem")||(e.addSource("mapbox-dem",{type:"raster-dem",url:"mapbox://mapbox.mapbox-terrain-dem-v1",tileSize:512,maxzoom:14}),e.setTerrain({source:"mapbox-dem",exaggeration:1.5}))},be=function(e){e.getLayer("sky")||e.addLayer({id:"sky",type:"sky","sky-type":"solarNoon",paint:{"sky-opacity":["interpolate",["linear"],["zoom"],0,0,5,.3,8,1],"sky-type":"atmosphere","sky-atmosphere-sun":me(e),"sky-atmosphere-sun-intensity":5}})},me=function(e){var t=e.getCenter(),n=U.a.getPosition(K||Date.now(),t.lat,t.lng);return[180+180*n.azimuth/Math.PI,90-180*n.altitude/Math.PI]},he=function(){if(a){l||(l=0);var e=Y.along(Y.lineString(a),o*l).geometry.coordinates,t=Y.along(Y.lineString(i),c*l).geometry.coordinates,n=r.getFreeCameraOptions();n.position=Z.a.MercatorCoordinate.fromLngLat({lng:t[0]+ae[0],lat:t[1]+ae[1]},ee),n.lookAtPoint({lng:e[0],lat:e[1]}),r.setFreeCameraOptions(n);var s={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:e}}]};r.getSource("point").setData(s)}},xe=function e(t){s||(s=t),(l=(t-s)/$)>1&&setTimeout((function(){s=0}),1500);var n=Y.along(Y.lineString(a),o*l).geometry.coordinates,j=Y.along(Y.lineString(i),c*l).geometry.coordinates,d=r.getFreeCameraOptions();d.position=Z.a.MercatorCoordinate.fromLngLat({lng:j[0]-ae[0],lat:j[1]-ae[1]},ee),d.lookAtPoint({lng:n[0],lat:n[1]}),r.setFreeCameraOptions(d);var u={type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:n}}]},p=r.getSource("point");p&&p.setData(u),te&&requestAnimationFrame(e)},ge=n(123),Oe=n.n(ge),fe=n(206),ye=[],ve=function(e){var t="/geojson/"+e.target.alt;Oe.a.get(t).then((function(e){var t=e.data,n=JSON.stringify(t);ie(n)}))},ke=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"componentDidMount",value:function(){fe.a("pota_data.csv",(function(e){ye.push(e)}))}},{key:"render",value:function(){return Object(_.jsx)("div",{children:Object(_.jsxs)(E.a,{cols:1,children:[Object(_.jsx)(G.a,{children:Object(_.jsx)(q.a,{component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u30c7\u30fc\u30bf"})},"Subheader"),ye.map((function(e){return Object(_.jsxs)(G.a,{children:[Object(_.jsx)("img",{srcSet:"".concat("/potaling","/images/").concat(e.img),alt:e.json,loading:"lazy",onClick:ve}),Object(_.jsx)(J.a,{title:e.title,subtitle:e.date,actionIcon:Object(_.jsx)(L.a,{sx:{color:"rgba(255, 255, 255, 0.54)"},"aria-label":"info about ".concat(e.title),children:Object(_.jsx)(H.a,{})})})]},e.img)}))]})})}}]),n}(j.Component),Se=n(200),Ce=n.n(Se),we=n(198),Le=n.n(we),Fe=n(199),Be=n.n(Fe),De=n(197),Ie=n.n(De),Me=n(406),Ne=n(405),Te=n(191),Ae=n.n(Te),ze=n(190),Pe=n.n(ze),Ve=n(376),Ee=n(404),Ge=n(380);function Je(){return Object(_.jsxs)(C.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(_.jsx)(Ee.a,{color:"inherit",href:"https://material-ui.com/",children:"t.matsuoka"})," ",(new Date).getFullYear(),"."]})}var qe,We=Object(g.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),He={width:"100%"},Re=d.a.forwardRef((function(e,t){return Object(_.jsx)(Ve.a,Object(h.a)({direction:"up",ref:t},e))}));function Ze(){var e=We(),t=d.a.useState(!0),n=Object(m.a)(t,2),a=n[0],i=n[1];qe=function(){i(!0)};var r=function(){i(!1)};return Object(_.jsx)("div",{children:Object(_.jsxs)(Ne.a,{fullScreen:!0,open:a,onClose:r,TransitionComponent:Re,children:[Object(_.jsx)(v.a,{className:e.appBar,children:Object(_.jsxs)(k.a,{children:[Object(_.jsx)(L.a,{edge:"start",color:"inherit",onClick:r,"aria-label":"close",children:Object(_.jsx)(Pe.a,{})}),Object(_.jsx)(C.a,{variant:"h6",className:e.title,onClick:r,children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(_.jsx)(Ae.a,{onClick:r}),Object(_.jsx)(Me.a,{color:"inherit",onClick:r,children:"Close"})]})}),Object(_.jsxs)("div",{children:[Object(_.jsx)("img",{src:"".concat("/potaling","/images/back.jpg"),style:He}),Object(_.jsxs)(Ge.a,{textAlign:"center",children:[Object(_.jsx)("h1",{children:"\u6298\u308a\u7573\u307f\u81ea\u8ee2\u8eca\u300eBrompton\u300f\u3067\u300e\u30dd\u30bf\u30ea\u30f3\u30b0\u300f\u3057\u305f\u8a18\u9332\u3092\u8868\u793a\u3059\u308b\u5b9f\u9a13\u30b5\u30a4\u30c8\u3067\u3059\u3002"}),Object(_.jsxs)("p",{style:{fontSize:"20px"},children:["\u30dd\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u5730\u57df\u3092\u9ce5\u77b0\u3067\u773a\u3081\u3066\u307f\u305f\u3044\u3068\u601d\u3044\u4f5c\u6210\u3057\u305f\u3001\u7d4c\u8def\u8a18\u9332\uff08Geojson\uff09\u30923D\u5730\u56f3\u306b\u8868\u793a\u3059\u308bWeb\u30a2\u30d7\u30ea\u3067\u3059\u3002",Object(_.jsx)("br",{}),"\u30dd\u30bf\u30ea\u30f3\u30b0\u3057\u305f\u7d4c\u8def\u30923D\u5730\u56f3\u306e\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u3067\u95b2\u89a7\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002",Object(_.jsx)("br",{}),"\u767b\u9332\u30c7\u30fc\u30bf\u306e\u4ed6\u3001\u4efb\u610f\u306eGeojson(Point)\u3092\u8aad\u307f\u8fbc\u3093\u30673D\u5730\u56f3\u306b\u8868\u793a\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002"]}),Object(_.jsx)(Me.a,{variant:"contained",size:"large",onClick:r,children:"\u958b\u3000\u59cb"})]})]}),Object(_.jsx)("br",{}),Object(_.jsx)(Je,{})]})})}var Xe,Ye=n(201),Qe=n.n(Ye),Ue=n(202),_e=n.n(Ue),Ke=n(203),$e=n.n(Ke),et=n(384),tt=n(390),nt=n(407),at=n(408),it=n(192),rt=n.n(it),ot=n(193),ct=n.n(ot),st=n(194),lt=n.n(st),jt=n(388),dt=function(e){Object(P.a)(n,e);var t=Object(V.a)(n);function n(){return Object(A.a)(this,n),t.apply(this,arguments)}return Object(z.a)(n,[{key:"render",value:function(){return Object(_.jsxs)("div",{style:mt,children:[Object(_.jsx)(w.a,{}),Object(_.jsx)(et.a,{title:"\u8996\u70b9\u306e\u9ad8\u3055",placement:"right",children:Object(_.jsxs)(nt.a,{button:!0,children:[Object(_.jsx)(at.a,{children:Object(_.jsx)(rt.a,{})}),Object(_.jsx)(jt.a,{defaultValue:500,getAriaValueText:ut,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:200,max:2e3,style:{marginLeft:"0.8rem"}})]})}),Object(_.jsx)(et.a,{title:"\u8996\u70b9\u306e\u65b9\u5411",placement:"right",children:Object(_.jsxs)(nt.a,{button:!0,children:[Object(_.jsx)(at.a,{children:Object(_.jsx)(ct.a,{onClick:re})}),Object(_.jsx)(jt.a,{defaultValue:0,getAriaValueText:pt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:10,marks:!0,min:0,max:360,style:{marginLeft:"0.8rem"}})]})}),Object(_.jsx)(et.a,{title:"\u79fb\u52d5\u6642\u9593",placement:"right",children:Object(_.jsxs)(nt.a,{button:!0,children:[Object(_.jsx)(at.a,{children:Object(_.jsx)(lt.a,{})}),Object(_.jsx)(jt.a,{defaultValue:300,getAriaValueText:bt,"aria-labelledby":"discrete-slider",valueLabelDisplay:"auto",step:20,marks:!0,min:80,max:360,style:{marginLeft:"0.8rem"}})]})})]})}}]),n}(j.Component),ut=function(e){ee=e,te||he()},pt=function(e){ne=e/180*Math.PI,ae=[-.005*Math.cos(ne)- -.005*Math.sin(ne),-.005*Math.sin(ne)+-.005*Math.cos(ne)],te||he()},bt=function(e){re(1e3*e)},mt={float:"left",width:230,lineHeight:"32px",borderRadius:4,border:"none",padding:"0 4px",color:"#fff",background:"#ffffff88",position:"absolute",top:100,left:5,zindex:255},ht=n(196),xt=n.n(ht),gt=n(385),Ot=n(410),ft=n(409),yt=n(128),vt=(Object(g.a)({avatar:{backgroundColor:yt.a[100],color:yt.a[600]}}),[]);function kt(e){var t=d.a.useState(!1),n=Object(m.a)(t,2),a=n[0],i=n[1];Xe=function(){i(!0)};var o=function(e){var t,n=e.geometry.coordinates;t=n,r.jumpTo({center:t})};return Object(_.jsxs)(Ne.a,{"aria-labelledby":"simple-dialog-title",open:a,children:[Object(_.jsxs)(ft.a,{id:"simple-dialog-title",children:[Object(_.jsx)(Me.a,{variant:"contained",color:"primary",onClick:function(){i(!1)},children:"\u9589\u3058\u308b"}),"\u3000"]}),Object(_.jsx)(S.a,{children:vt.map((function(e){return Object(_.jsx)(nt.a,{button:!0,onClick:function(){return o(e)},children:Object(_.jsx)(Ot.a,{primary:e.properties.title})},e.properties.title)}))})]})}var St,Ct=300,wt=Object(g.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Ct,"px)"),marginLeft:Ct,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Ct,flexShrink:0},drawerPaper:{width:Ct,boxSizing:"border-box"},drawerHeader:Object(h.a)(Object(h.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-300},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},toolbarButtons:{marginLeft:"auto"}}})),Lt=function(){if(St&&!(St.length<1)){var e="https://msearch.gsi.go.jp/address-search/AddressSearch?q="+St;Oe.a.get(e).then((function(e){var t;t=e.data,vt=t,Xe()}))}},Ft=function(){var e=document.getElementById("file"),t=new FileReader;e.onchange=function(){var n=e.files[0];console.log(n.name),console.log(n.size),console.log(n.type),t.readAsText(n)},t.onload=function(){return ie(t.result)},e.click()},Bt=je.SAT,Dt=function(){!function(e){r.setStyle(e),r.on("style.load",(function(){r.resize(),pe(r),be(r),a&&de(r)}))}(Bt=Bt===je.SAT?je.STD:je.SAT)};function It(){var e=wt(),t=Object(O.a)(),n=d.a.useState(!1),a=Object(m.a)(n,2),i=a[0],r=a[1],o=function(){r(!1)};return Object(_.jsxs)("div",{className:e.root,children:[Object(_.jsx)(f.a,{}),Object(_.jsx)(v.a,{position:"fixed",className:Object(x.a)(e.appBar,Object(b.a)({},e.appBarShift,i)),children:Object(_.jsxs)(k.a,{children:[Object(_.jsx)(L.a,{color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},edge:"start",className:Object(x.a)(e.menuButton,i&&e.hide),children:Object(_.jsx)(D.a,{})}),Object(_.jsx)(C.a,{variant:"h6",noWrap:!0,component:"div",children:"\u30dd\u30bf\u30ea\u30f3\u30b0\u306e\u8a18\u9332\uff08\u5b9f\u9a13\u7248\uff09"}),Object(_.jsx)("div",{className:e.toolbarButtons,children:Object(_.jsxs)(tt.a,{container:!0,alignItems:"center",className:e.root,children:[Object(_.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(_.jsx)(et.a,{title:"\u691c\u7d22",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:Lt,children:Object(_.jsx)(xt.a,{})})}),Object(_.jsx)(gt.a,{id:"input-search",label:"\u691c\u7d22",size:"small",style:{background:"white"},onChange:function(e){return t=e.target.value,St=t,void console.log(St);var t}}),Object(_.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(_.jsx)(et.a,{title:"Geojson\u8aad\u8fbc",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:Ft,children:Object(_.jsx)(Ie.a,{})})}),Object(_.jsx)("input",{type:"file",id:"file",style:{display:"none"}}),Object(_.jsx)(et.a,{title:"\u5730\u56f3\u5207\u66ff",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:Dt,children:Object(_.jsx)(Le.a,{})})}),Object(_.jsx)(et.a,{title:"\u9818\u57df\u79fb\u52d5",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:le,children:Object(_.jsx)(Be.a,{})})}),Object(_.jsx)(et.a,{title:"\u30c8\u30c3\u30d7\u30da\u30fc\u30b8",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:qe,children:Object(_.jsx)(Ce.a,{})})}),Object(_.jsx)(w.a,{orientation:"vertical",flexItem:!0}),Object(_.jsx)(et.a,{title:"\u958b\u59cb",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:ce,children:Object(_.jsx)(Qe.a,{})})}),Object(_.jsx)(et.a,{title:"\u505c\u6b62",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:se,children:Object(_.jsx)(_e.a,{})})}),Object(_.jsx)(et.a,{title:"\u51fa\u767a\u70b9\u306b\u623b\u308b",placement:"bottom",children:Object(_.jsx)(L.a,{color:"inherit",onClick:oe,children:Object(_.jsx)($e.a,{})})}),Object(_.jsx)(w.a,{orientation:"vertical",flexItem:!0})]})})]})}),Object(_.jsxs)(y.a,{className:e.drawer,variant:"persistent",anchor:"left",open:i,classes:{paper:e.drawerPaper},children:[Object(_.jsx)("div",{className:e.drawerHeader,children:Object(_.jsx)(L.a,{onClick:o,children:"ltr"===t.direction?Object(_.jsx)(M.a,{}):Object(_.jsx)(T.a,{})})}),Object(_.jsx)(w.a,{}),Object(_.jsx)(S.a,{children:Object(_.jsx)(ke,{})}),Object(_.jsx)(w.a,{})]}),Object(_.jsxs)("main",{className:e.content,children:[Object(_.jsx)("div",{className:e.appBarSpacer}),Object(_.jsxs)(F.a,{maxWidth:"xl",className:e.container,onClick:o,children:[Object(_.jsx)(je,{}),Object(_.jsx)(dt,{})]})]}),Object(_.jsx)(Ze,{}),Object(_.jsx)(kt,{})]})}var Mt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,412)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),r(e),o(e)}))};p.a.render(Object(_.jsx)(d.a.StrictMode,{children:Object(_.jsx)(It,{})}),document.getElementById("root")),Mt()}},[[309,1,2]]]);
//# sourceMappingURL=main.e1d4b034.chunk.js.map